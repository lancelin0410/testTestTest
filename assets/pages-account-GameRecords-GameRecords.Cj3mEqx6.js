import{a6 as e,_ as a,u as s,K as t,a as o,B as l,D as c,E as r,R as d,o as m,c as u,w as i,b as n,n as g,d as y,p as f,t as h,k as _,l as C,F as b,e as p,f as v,i as R,S as k,af as x,ag as w,q as B}from"./index-D6FzdE0N.js";import{_ as N}from"./launch.CWumigYG.js";import{_ as S}from"./copy.21jkgh1z.js";import{N as T}from"./NoDataSearch.Ya-trXOw.js";import{T as j}from"./toast.BErREgqV.js";import{b as I}from"./account.u2cO57bq.js";import"./no-data-withdraw.BQz0OKhQ.js";const z=e.global.t,L=[z("account.gameRecords.time.today"),z("account.gameRecords.time.yesterday"),z("account.gameRecords.time.lastDay")],$=[{code:"",name:z("account.gameRecords.status.all")},{code:0,name:z("account.gameRecords.status.settled")},{code:1,name:z("account.gameRecords.status.unsettled")},{code:2,name:z("account.gameRecords.status.cancel")}],D=a({__name:"GameRecords",setup(e){const a=s().theme.account.gameRecords,{t:z}=t();o();let D=l(!1),V=l(!1),A=c({time:z("account.gameRecords.time.today"),dayRange:0,status:"",statusName:z("account.gameRecords.status.all"),page:1,pageSize:12}),q=l([]),E=l(!1),F=l(!0);const G=()=>{E.value=!1},H=()=>{F.value&&(A.page++,X(A))},K=e=>{"time"==e&&(D.value=!D.value,V.value=!1),"status"==e&&(D.value=!1,V.value=!V.value)},X=async(e,a=0)=>{j.showLoading(z("account.toast.loading"));const{code:s,data:t}=await I({dayRange:e.dayRange,status:""===e.status?null:e.status,page:e.page,pageSize:e.pageSize});console.log(t),200==s?(q.value=1==a?q.value.concat(t):t,t.length<e.pageSize&&(F.value=!1),G(),j.hideLoading()):(j.hideLoading(),G())};return r((()=>{X(A)})),(e,s)=>{const t=v,o=R,l=B,c=k,r=d("mobile-sub-layout");return m(),u(r,{title:e.$t("account.header.gameRecordsTitle"),lineHeight:4},{default:i((()=>[n(t,{class:"game-records-body"},{default:i((()=>[n(t,{class:"game-records-content",style:g({backgroundColor:y(a).lightBgColor})},{default:i((()=>[n(t,{class:"game-records-search"},{default:i((()=>[n(t,{class:"game-records-search-item",style:g({backgroundColor:y(a).search.bgColor,borderColor:y(a).search.borderColor}),onClick:s[0]||(s[0]=e=>K("time"))},{default:i((()=>[n(t,{class:"game-records-search-item-value",style:g({color:y(a).search.textColor})},{default:i((()=>[f(h(y(A).time),1)])),_:1},8,["style"]),n(o,{class:"launch-image-size",src:N})])),_:1},8,["style"]),n(t,{class:"game-records-search-item",style:g({backgroundColor:y(a).search.bgColor,borderColor:y(a).search.borderColor}),onClick:s[1]||(s[1]=e=>K("status"))},{default:i((()=>[n(t,{class:"game-records-search-item-value",style:g({color:y(a).search.textColor})},{default:i((()=>[f(h(y(A).statusName),1)])),_:1},8,["style"]),n(o,{class:"launch-image-size",src:N})])),_:1},8,["style"])])),_:1}),y(D)?(m(),u(t,{key:0,class:"search-form-select search-form-time-select",style:g({backgroundColor:y(a).search.listBgColor,borderColor:y(a).search.listBorderColor})},{default:i((()=>[n(t,{class:"search-form-select-list"},{default:i((()=>[(m(!0),_(b,null,C(y(L),((e,s)=>(m(),u(t,{class:"search-form-select-list-item",style:g({color:y(A).time==e?y(a).search.listItemActiveTextColor:y(a).search.listItemTextColor}),onClick:a=>((e,a)=>{A.time=e,A.dayRange=a,A.page=1,D.value=!1,X(A,1)})(e,s)},{default:i((()=>[f(h(e),1)])),_:2},1032,["style","onClick"])))),256))])),_:1})])),_:1},8,["style"])):p("",!0),y(V)?(m(),u(t,{key:1,class:"search-form-select search-form-status-select",style:g([{backgroundColor:y(a).search.listBgColor,borderColor:y(a).search.listBorderColor},{height:"272rpx"}])},{default:i((()=>[n(t,{class:"search-form-select-list"},{default:i((()=>[(m(!0),_(b,null,C(y($),((e,s)=>(m(),u(t,{class:"search-form-select-list-item",style:g({color:y(A).statusName==e.name?y(a).search.listItemActiveTextColor:y(a).search.listItemTextColor}),onClick:a=>(e=>{A.statusName=e.name,A.status=e.code,A.page=1,V.value=!1,X(A,1)})(e)},{default:i((()=>[f(h(e.name),1)])),_:2},1032,["style","onClick"])))),256))])),_:1})])),_:1},8,["style"])):p("",!0),y(q).length>0?(m(),u(t,{key:2,class:"game-records-scroll"},{default:i((()=>[n(c,{class:"scroll-view","scroll-y":"true",onScrolltolower:H,"refresher-enabled":!0,"refresher-triggered":y(E)},{default:i((()=>[n(t,{class:"game-records-data"},{default:i((()=>[(m(!0),_(b,null,C(y(q),((s,c)=>(m(),u(t,{class:"game-records-item",style:g({backgroundColor:y(a).recordsItemBgColor}),key:c},{default:i((()=>[n(t,{class:"game-records-item-top",style:g({color:y(a).text.normal})},{default:i((()=>[n(t,{class:"game-records-item-top-item game-name"},{default:i((()=>[f(h(s.gameName),1)])),_:2},1024),n(t,{class:"game-records-item-top-item game-item-valid-bat"},{default:i((()=>[f(h(e.$t("account.gameRecords.vaildBet"))+": ",1),n(l,{class:"game-item-valid-bat-value",style:g({color:y(a).text.batValue})},{default:i((()=>[f(h(s.validBet),1)])),_:2},1032,["style"])])),_:2},1024),n(t,{class:"game-records-item-top-item game-item-w-l"},{default:i((()=>[f(h(e.$t("account.gameRecords.wl"))+": ",1),n(l,{style:g({color:s.winLost>0?y(a).text.batValue:y(a).text.wlValue})},{default:i((()=>[f(h(s.winLost),1)])),_:2},1032,["style"])])),_:2},1024)])),_:2},1032,["style"]),n(t,{class:"game-records-item-bottom",style:g({color:y(a).text.normal})},{default:i((()=>[n(t,{class:"game-records-item-bottom-bet-id"},{default:i((()=>[n(l,null,{default:i((()=>[f(h(e.$t("account.gameRecords.betId"))+": "+h(s.roundNo),1)])),_:2},1024),n(o,{onClick:e=>{return a=s.roundNo,void x({data:a,success(){w({title:z("account.toast.copySuccess"),icon:"success"})}});var a},src:S,class:"copy-image"},null,8,["onClick"])])),_:2},1024),n(t,{class:"game-records-item-bottom-time"},{default:i((()=>[f(h(s.betTime),1)])),_:2},1024)])),_:2},1032,["style"])])),_:2},1032,["style"])))),128))])),_:1})])),_:1},8,["refresher-triggered"])])),_:1})):p("",!0),0==y(q).length?(m(),u(y(T),{key:3,iconType:"node"})):p("",!0)])),_:1},8,["style"])])),_:1})])),_:1},8,["title"])}}},[["__scopeId","data-v-6fcd3c1d"]]);export{D as default};
