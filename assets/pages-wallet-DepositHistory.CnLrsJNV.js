import{_ as t,u as e,a,E as s,a4 as l,G as o,af as r,T as i,o as c,c as d,w as f,b as n,n as h,d as u,e as p,q as m,t as g,y,k as _,l as x,F as k,i as b,f as w,ag as S,ah as C,z as $}from"./index-DKy76-ds.js";import{_ as v}from"./icon-check-white.BT3FUdfN.js";import{_ as j}from"./icon-gmt.CgMa4TVW.js";import{_ as D,a as U}from"./icon-copy.BHZnUAKh.js";import{_ as B}from"./icon-pending.Cr92VSqk.js";import{T as F}from"./toast.DUowxkhs.js";import{N as I}from"./NoDataSearch.igdiPYzz.js";import{a as N}from"./data-formatter.DJPK8l9W.js";import{g as R,a as L}from"./date-formatter.WRZnbcvu.js";import{S as T}from"./SegmentControl.Cpc8BBDt.js";import"./no-data-withdraw.BWl6q6ue.js";const q=t({__name:"DepositHistory",setup(t){const q=e(),z=a(),A=s({active:0,total:0,dateShow:R(2),list:[],isSelfUtr:!1}),E=l((()=>A.isSelfUtr?A.list.filter((t=>0!==t.manualRechargeStatus)):A.list));o((()=>{O()}));const O=async()=>{let t=0;0===A.active?(t=0,A.dateShow=`${R(2)}`):1===A.active?(t=7,A.dateShow=`${R(2)} ~ ${L(7,2)}`):2===A.active&&(t=30,A.dateShow=`${R(2)} ~ ${L(30,2)}`),F.showLoading("Loading");const{code:e,data:a}=await r({dayRange:t,page:1,pageSize:100});if(F.hideLoading(),200!==e)return;const s=a||[];A.list=s;let l=0;s.forEach((t=>{l=l+t.amount+t.giftAmount})),A.total=l},G=({index:t})=>{A.active=t,O()};return(t,e)=>{const a=b,s=w,l=i("mobile-sub-layout");return c(),d(l,{title:t.$t("deposit.title3")},{"header-right":f((()=>[n(s,{class:"flex-acenter",onClick:e[0]||(e[0]=y((()=>A.isSelfUtr=!A.isSelfUtr),["stop"]))},{default:f((()=>[n(s,{class:"check-radio flex-acenter flex-scenter cfff ft26",style:h({"border-color":u(q).theme.themeDarkBgColor,background:u(q).theme.themeDarkBgColor})},{default:f((()=>[A.isSelfUtr?(c(),d(a,{key:0,src:v,mode:"aspectFit",style:{width:"30rpx",height:"30rpx"}})):p("",!0)])),_:1},8,["style"]),n(s,{class:"ft10",style:{width:"120rpx"}},{default:f((()=>[m(g(t.$t("deposit.button.selfUtrCheck")),1)])),_:1})])),_:1})])),default:f((()=>[n(s,{class:"withdraw-history-container",style:h({background:u(q).theme.bgColor})},{default:f((()=>[n(s,{class:"tabs-view",style:h({top:u(z).headerStyle.height+"px",background:u(q).theme.bgColor})},{default:f((()=>[n(T,{lineWidth:100,listData:[{title:t.$t("deposit.tabs.tab1")},{title:t.$t("deposit.tabs.tab2")},{title:t.$t("deposit.tabs.tab3")}],onChange:G},null,8,["listData"]),n(s,{style:h([{height:"8rpx"},{background:u(q).theme.darkSeplineColor}])},null,8,["style"])])),_:1},8,["style"]),n(s,{class:"flex-acenter flex-sbetween ptb16 pt32 plr30"},{default:f((()=>[n(s,{class:"flex-acenter"},{default:f((()=>[n(s,{class:"ft12"},{default:f((()=>[m(g(A.dateShow),1)])),_:1}),306===u(z).appId?(c(),d(s,{key:0,class:"ml24 gmt-view flex-acenter",style:h({background:u(q).theme.themeDarkBgColor})},{default:f((()=>[n(a,{src:j,mode:"aspectFit",style:{width:"25rpx",height:"25rpx"}}),n(s,{class:"ml8 ft11"},{default:f((()=>[m(g(u(z).timeZone),1)])),_:1})])),_:1},8,["style"])):p("",!0)])),_:1}),n(s,{class:"ft12"},{default:f((()=>[m(g(t.$t("deposit.total"))+" :"+g(u(N)(A.total)),1)])),_:1})])),_:1}),n(s,{class:""},{default:f((()=>[(c(!0),_(k,null,x(E.value,(e=>(c(),d(s,{class:"plr30 pb16",key:e,onClick:t=>(t=>{$({url:`/pages/wallet/DepositOrderDetail?orderId=${t.id}`})})(e)},{default:f((()=>[n(s,{class:"list-item-content plr30 ptb16 flex-acenter flex-sbetween",style:h({background:u(q).theme.lightBgColor})},{default:f((()=>[n(s,{class:"list-item-icon flex-shrink-0"},{default:f((()=>[1===e.status?(c(),d(a,{key:0,src:D,style:{width:"50rpx",height:"50rpx"}})):(c(),d(a,{key:1,src:B,style:{width:"50rpx",height:"50rpx"}})),0!==e.manualRechargeStatus?(c(),d(s,{key:2,class:"list-item-utr-conner"},{default:f((()=>[n(s,null,{default:f((()=>[m("Self")])),_:1})])),_:1})):p("",!0)])),_:2},1024),n(s,{class:"plr30 flex-1"},{default:f((()=>[n(s,{class:"ft10"},{default:f((()=>[m(g(e.orderedOn||""),1)])),_:2},1024),n(s,{class:"flex-acenter"},{default:f((()=>[n(s,{class:"ft10"},{default:f((()=>[m(g(t.$t("deposit.orderId"))+": "+g(e.orderNo||""),1)])),_:2},1024),n(s,{class:"ml16",onClick:y((t=>{return a=e.orderNo,void S({data:a,success(){C({title:"Copy Success",icon:"success"})}});var a}),["stop"])},{default:f((()=>[n(a,{src:U,mode:"aspectFit",style:{width:"20rpx",height:"20rpx"}})])),_:2},1032,["onClick"])])),_:2},1024),n(s,{class:"ft8",style:h({color:u(q).theme.text.subtitle})},{default:f((()=>[m(" Method: "+g(e.rechargeType),1)])),_:2},1032,["style"])])),_:2},1024),n(s,{class:"flex-shrink-0 text-a-right"},{default:f((()=>[n(s,{class:"ft13",style:h({color:u(q).theme.text.highlight})},{default:f((()=>[m(" +"+g(u(N)(e.amount,2)),1)])),_:2},1032,["style"]),n(s,{class:"ft11 mt16"},{default:f((()=>[m(g(t.$t("deposit.bonus"))+": +"+g(e.giftAmount),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["style"])])),_:2},1032,["onClick"])))),128)),E.value.length?p("",!0):(c(),d(I,{key:0,title:t.$t("deposit.message.nodata")},null,8,["title"]))])),_:1})])),_:1},8,["style"])])),_:1},8,["title"])}}},[["__scopeId","data-v-36774d95"]]);export{q as default};
