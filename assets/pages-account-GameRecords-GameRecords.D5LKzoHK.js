import{a7 as e,_ as a,u as s,L as t,a as o,C as l,E as c,G as r,T as d,o as m,c as u,w as i,b as n,n as g,d as y,q as f,t as h,k as C,l as _,F as b,e as p,f as v,i as k,S as R,ag as x,ah as w,v as B}from"./index-Bt7fMP3h.js";import{_ as N}from"./launch.BS-L84TH.js";import{_ as T}from"./copy.CKRS93yw.js";import{N as S}from"./NoDataSearch.JuTxyxFN.js";import{T as j}from"./toast.CdYgmjob.js";import{b as I}from"./account.CtWDvB7F.js";import"./no-data-withdraw.HhukE0_d.js";const z=e.global.t,L=[z("account.gameRecords.time.today"),z("account.gameRecords.time.yesterday"),z("account.gameRecords.time.lastDay")],$=[{code:"",name:z("account.gameRecords.status.all")},{code:0,name:z("account.gameRecords.status.settled")},{code:1,name:z("account.gameRecords.status.unsettled")},{code:2,name:z("account.gameRecords.status.cancel")}],V=a({__name:"GameRecords",setup(e){const a=s().theme.account.gameRecords,{t:z}=t();o();let V=l(!1),A=l(!1),D=c({time:z("account.gameRecords.time.today"),dayRange:0,status:"",statusName:z("account.gameRecords.status.all"),page:1,pageSize:12}),G=l([]),q=l(!1),E=l(!0);const F=()=>{q.value=!1},H=()=>{E.value&&(D.page++,J(D))},X=e=>{"time"==e&&(V.value=!V.value,A.value=!1),"status"==e&&(V.value=!1,A.value=!A.value)},J=async(e,a=0)=>{j.showLoading(z("account.toast.loading"));const{code:s,data:t}=await I({dayRange:e.dayRange,status:""===e.status?null:e.status,page:e.page,pageSize:e.pageSize});console.log(t),200==s?(G.value=1==a?G.value.concat(t):t,t.length<e.pageSize&&(E.value=!1),F(),j.hideLoading()):(j.hideLoading(),F())};return r((()=>{J(D)})),(e,s)=>{const t=v,o=k,l=B,c=R,r=d("mobile-sub-layout");return m(),u(r,{title:e.$t("account.header.gameRecordsTitle"),lineHeight:4},{default:i((()=>[n(t,{class:"game-records-body"},{default:i((()=>[n(t,{class:"game-records-content",style:g({backgroundColor:y(a).lightBgColor})},{default:i((()=>[n(t,{class:"game-records-search"},{default:i((()=>[n(t,{class:"game-records-search-item",style:g({backgroundColor:y(a).search.bgColor,borderColor:y(a).search.borderColor}),onClick:s[0]||(s[0]=e=>X("time"))},{default:i((()=>[n(t,{class:"game-records-search-item-value",style:g({color:y(a).search.textColor})},{default:i((()=>[f(h(y(D).time),1)])),_:1},8,["style"]),n(o,{class:"launch-image-size",src:N})])),_:1},8,["style"]),n(t,{class:"game-records-search-item",style:g({backgroundColor:y(a).search.bgColor,borderColor:y(a).search.borderColor}),onClick:s[1]||(s[1]=e=>X("status"))},{default:i((()=>[n(t,{class:"game-records-search-item-value",style:g({color:y(a).search.textColor})},{default:i((()=>[f(h(y(D).statusName),1)])),_:1},8,["style"]),n(o,{class:"launch-image-size",src:N})])),_:1},8,["style"])])),_:1}),y(V)?(m(),u(t,{key:0,class:"search-form-select search-form-time-select",style:g({backgroundColor:y(a).search.listBgColor,borderColor:y(a).search.listBorderColor})},{default:i((()=>[n(t,{class:"search-form-select-list"},{default:i((()=>[(m(!0),C(b,null,_(y(L),((e,s)=>(m(),u(t,{class:"search-form-select-list-item",style:g({color:y(D).time==e?y(a).search.listItemActiveTextColor:y(a).search.listItemTextColor}),onClick:a=>((e,a)=>{D.time=e,D.dayRange=a,D.page=1,V.value=!1,J(D,1)})(e,s)},{default:i((()=>[f(h(e),1)])),_:2},1032,["style","onClick"])))),256))])),_:1})])),_:1},8,["style"])):p("",!0),y(A)?(m(),u(t,{key:1,class:"search-form-select search-form-status-select",style:g([{backgroundColor:y(a).search.listBgColor,borderColor:y(a).search.listBorderColor},{height:"272rpx"}])},{default:i((()=>[n(t,{class:"search-form-select-list"},{default:i((()=>[(m(!0),C(b,null,_(y($),((e,s)=>(m(),u(t,{class:"search-form-select-list-item",style:g({color:y(D).statusName==e.name?y(a).search.listItemActiveTextColor:y(a).search.listItemTextColor}),onClick:a=>(e=>{D.statusName=e.name,D.status=e.code,D.page=1,A.value=!1,J(D,1)})(e)},{default:i((()=>[f(h(e.name),1)])),_:2},1032,["style","onClick"])))),256))])),_:1})])),_:1},8,["style"])):p("",!0),y(G).length>0?(m(),u(t,{key:2,class:"game-records-scroll"},{default:i((()=>[n(c,{class:"scroll-view","scroll-y":"true",onScrolltolower:H,"refresher-enabled":!0,"refresher-triggered":y(q)},{default:i((()=>[n(t,{class:"game-records-data"},{default:i((()=>[(m(!0),C(b,null,_(y(G),((s,c)=>(m(),u(t,{class:"game-records-item",style:g({backgroundColor:y(a).recordsItemBgColor}),key:c},{default:i((()=>[n(t,{class:"game-records-item-top",style:g({color:y(a).text.normal})},{default:i((()=>[n(t,{class:"game-records-item-top-item game-name"},{default:i((()=>[f(h(s.gameName),1)])),_:2},1024),n(t,{class:"game-records-item-top-item game-item-valid-bat"},{default:i((()=>[f(h(e.$t("account.gameRecords.vaildBet"))+": ",1),n(l,{class:"game-item-valid-bat-value",style:g({color:y(a).text.batValue})},{default:i((()=>[f(h(s.validBet),1)])),_:2},1032,["style"])])),_:2},1024),n(t,{class:"game-records-item-top-item game-item-w-l"},{default:i((()=>[f(h(e.$t("account.gameRecords.wl"))+": ",1),n(l,{style:g({color:s.winLost>0?y(a).text.batValue:y(a).text.wlValue})},{default:i((()=>[f(h(s.winLost),1)])),_:2},1032,["style"])])),_:2},1024)])),_:2},1032,["style"]),n(t,{class:"game-records-item-bottom",style:g({color:y(a).text.normal})},{default:i((()=>[n(t,{class:"game-records-item-bottom-bet-id"},{default:i((()=>[n(l,null,{default:i((()=>[f(h(e.$t("account.gameRecords.betId"))+": "+h(s.roundNo),1)])),_:2},1024),n(o,{onClick:e=>{return a=s.roundNo,void x({data:a,success(){w({title:z("account.toast.copySuccess"),icon:"success"})}});var a},src:T,class:"copy-image"},null,8,["onClick"])])),_:2},1024),n(t,{class:"game-records-item-bottom-time"},{default:i((()=>[f(h(s.betTime),1)])),_:2},1024)])),_:2},1032,["style"])])),_:2},1032,["style"])))),128))])),_:1})])),_:1},8,["refresher-triggered"])])),_:1})):p("",!0),0==y(G).length?(m(),u(y(S),{key:3,iconType:"node"})):p("",!0)])),_:1},8,["style"])])),_:1})])),_:1},8,["title"])}}},[["__scopeId","data-v-6fcd3c1d"]]);export{V as default};
