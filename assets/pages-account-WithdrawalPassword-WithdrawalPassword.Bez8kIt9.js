import{a7 as a,_ as e,L as t,u as o,g as l,a as s,E as r,C as d,T as i,o as w,c,w as n,b as m,n as p,d as u,k as h,l as A,F as f,q as b,t as B,Z as g,ap as y,f as P,i as v,$ as C,m as H,e as q}from"./index-DKy76-ds.js";import{_ as k}from"./segmentation.Dynn20Ej.js";import{s as U}from"./account.DtHbTyP-.js";import{T as N}from"./toast.DUowxkhs.js";const K="data:image/png;base64,UklGRqYEAABXRUJQVlA4WAoAAAAQAAAAdwAAdwAAQUxQSAwCAAABkMIAkBs5gywZpZqlGBmlfUXp7ctCw1RkmB5mlN7LsaOHLaUdOpiKjqYZfUVpRitZJw2Z3T/PzqYniogJgH+1Bxu2jIwkqzwzcq4oB0h+en5XrfJEfH0OV6oL5YGRRwMcapkFsm3o4PBLJVlWYaOPIqnWPMKmlw/KlJTYfH1KoslPaF12LqZTO3eq7O5zbYN4S57JCi3f5jHYhumj2gJb0mz5hOa+gpVvaNUmvCRLVKKxymC4yXMTHhGlh8Z+DEPPTXpEkItofBRCg6mm8G0oRqINBTQ7pSm8JUYP6edBQ3DEUG8RQiG9HEHjdynsCtE3KGg+eEvhiAgHke4Cx4OGQoRH1CBhAV1qsEGAqKYK4LmTwlyADOkpJvCW6gvwiFoGrjmFkXtfqA6bLYYjziVIn2QDn6iWc6lhC58e1XPuoiHk06bmnLtLfQG+OVU716bmGJ2iMHRtRJF7GcWKht8Yw6w7t+z03PN8gxN751BAfc6BtEYZ77KLK5Qy5dZBMUtmgZYDJ3mNoKAXeU1Jcp2X+h2vvHvq1K23/tEZkEcq36Rg3Fn7pQOWLb/stdnilzU2UHslsKr+6bPGSntl0iZGr7Rscr/oEVNS+QU/7aUm59AziN1saupkMUD/8P1O2ilJziuSJOUFb+TQq5gpOW4B97YU/ZAdtGV4E4GD6rl75SlwNNp50Om9MfwfKFZQOCB0AgAA0BMAnQEqeAB4AD5tMpdHpCMiIScSSpCADYlibuDArGVhmL9y1q7r3J0becJvVmHs6qv3P2Z9oDzAP0o/zHUA8wH7AfrX75H8l/wHsA9AD9nesA/nPqAfrX6cP66fBD+0n7h+0z//9bILo6u0x6VSRmwIi1L9xFB5LyIp5gKrcCGEiGestXqB65Biyk9sqUkqKz+c6EdfKhQjKMi/Uw4a5yugYgMQE8AA/tj5ABa34H//CA//gzf//BFi95bd1qPhzFh3/chT+W84Y3LwmKf5y9VdStavH2uQF1Cf+vQQq6z5Xyn0v8Hl2ht3jv4dLL/k3jfmZUHs+M/2ypi/UPBUeBl0+GKegEXx+F6vNfH00Arh9eld4C/nt9aWVmJwIoaoKum4XdpKlSibplYu3ZFSQLzU//oBEk8LkhhJU4200jYM8MNn/FhF+vrTnp/4py2VKy6nBfxWqz5Hdjs1Ps/OAA6MV27ibSTBLKfMaMNTVWiVVhnCIQo/vkGbp42Hu4k+TX+1P1AMtrdr7FZh4gzP2tvtT/rc8cX0XMSBztv53JjZQ1F+R7t8Hb37XH/CsiBb+7bD828ZCdfk12T2N8+1e2rbiqYJhHul35zO2eq3jjQuyMqBxW7myb9KUvqDgBiByTNZEDlBj/dGHZOL/kzOcXPj+mRsQSa3pJEloGBrwWJGMB/lD2eqebS0m7qN1iO/yh+PNSZLXknCN3pHrQ50MrTaN1iPBHeTqFt3PSZDmm0F4KL3//h3aAfoLzldEgiKbKr7Dk0YLN/j1Hcigmi6A2PozxmVemxPm/usEl0p6YlTf6+SQOd5N/XXU58xf2AAAAAAAA==",V=a.global.t,L=[{label:V("account.withdrawalPassword.label.password"),icon:K,fieldName:"withdrawPasswd",placeholder:V("account.withdrawalPassword.label.password"),type:"password"},{label:V("account.withdrawalPassword.label.repeatPassword"),icon:K,fieldName:"withdrawPasswdRepeat",placeholder:V("account.withdrawalPassword.label.repeatPassword"),type:"password"}],Q=e({__name:"WithdrawalPassword",setup(a){const{t:e}=t(),K=o().theme.account.withdrawalPassword,V=o(),Q=l(),G=s();let O=r({withdrawPasswd:"",withdrawPasswdRepeat:"",mobile:Q.userInfo.mobile?Q.userInfo.mobile.substring(2):"",verificationCode:"",canModifyPwd:!Q.userInfo.mobile}),z=d(null),J=d(0),M=d(e("account.button.otp"));const E=async()=>{if(0==J.value){if(""==O.mobile)return void N.show(e("account.withdrawalPassword.toast.phone"));const{code:a,data:t}=await g({tel:O.mobile});200==a&&(J.value=t,S())}},S=()=>{M.value=J.value+"s",z.value=setInterval((()=>{J.value>0?(J.value--,M.value=J.value+"s"):(M.value=e("account.button.otp"),J.value=0,clearInterval(z.value))}),1e3)},Z=async()=>{if(""==O.withdrawPasswd)return void N.show(e("account.withdrawalPassword.toast.withdrawPasswd"));if(O.withdrawPasswd!==O.withdrawPasswdRepeat)return void N.show(e("account.withdrawalPassword.toast.withdrawPasswdRepeat"));if(""==O.mobile)return void N.show(e("account.withdrawalPassword.toast.phone"));if(""==O.verificationCode)return void N.show(e("account.withdrawalPassword.toast.verificationCode"));N.showLoading("Loading");const{code:a,data:t}=await U({withdrawPasswd:O.withdrawPasswd,withdrawPasswdRepeat:O.withdrawPasswdRepeat,mobile:O.canModifyPwd?O.mobile:null,verificationCode:O.verificationCode});N.hideLoading(),200==a&&(N.showSuccess(),setTimeout((()=>{y()}),1e3))};return(a,e)=>{const t=P,o=v,l=C,s=i("mobile-sub-layout");return w(),c(s,{title:a.$t("account.header.withdrawalPasswordTitle"),lineHeight:4},{default:n((()=>[m(t,{class:"withdraw-password-body"},{default:n((()=>[m(t,{class:"withdraw-password-content",style:p({backgroundColor:u(K).lightBgColor})},{default:n((()=>[(w(!0),h(f,null,A(u(L),((a,e)=>(w(),h(f,{key:e},[m(t,{class:H(["withdraw-password-item-lable",0!=e?"m-top":""]),style:p({color:u(K).text.normal})},{default:n((()=>[b(B(a.label),1)])),_:2},1032,["style","class"]),m(t,{class:"withdraw-password-item-value",style:p({backgroundColor:""!=u(O)[a.fieldName]?u(K).passwordItemBgColor:u(K).passwordItemNoValueBgColor,borderColor:""!=u(O)[a.fieldName]?u(K).passwordItemBorderColor:u(K).passwordItemNoValueBorderColor})},{default:n((()=>[m(t,{class:"withdraw-password-item-value-icon-content"},{default:n((()=>[m(o,{class:"withdraw-password-item-value-icon",mode:"aspectFit",src:0==u(K).isShowDivisionImage&&""!=u(O)[a.fieldName]?a.icon:u("data:image/png;base64,UklGRqYEAABXRUJQVlA4WAoAAAAQAAAAdwAAdwAAQUxQSAwCAAABkMIAkBs5gywZpZqlGBmlfUXp7ctCw1RkmB5mlN7LsaOHLaUdOpiKjqYZfUVpRitZJw2Z3T/PzqYniogJgH+1Bxu2jIwkqzwzcq4oB0h+en5XrfJEfH0OV6oL5YGRRwMcapkFsm3o4PBLJVlWYaOPIqnWPMKmlw/KlJTYfH1KoslPaF12LqZTO3eq7O5zbYN4S57JCi3f5jHYhumj2gJb0mz5hOa+gpVvaNUmvCRLVKKxymC4yXMTHhGlh8Z+DEPPTXpEkItofBRCg6mm8G0oRqINBTQ7pSm8JUYP6edBQ3DEUG8RQiG9HEHjdynsCtE3KGg+eEvhiAgHke4Cx4OGQoRH1CBhAV1qsEGAqKYK4LmTwlyADOkpJvCW6gvwiFoGrjmFkXtfqA6bLYYjziVIn2QDn6iWc6lhC58e1XPuoiHk06bmnLtLfQG+OVU716bmGJ2iMHRtRJF7GcWKht8Yw6w7t+z03PN8gxN751BAfc6BtEYZ77KLK5Qy5dZBMUtmgZYDJ3mNoKAXeU1Jcp2X+h2vvHvq1K23/tEZkEcq36Rg3Fn7pQOWLb/stdnilzU2UHslsKr+6bPGSntl0iZGr7Rscr/oEVNS+QU/7aUm59AziN1saupkMUD/8P1O2ilJziuSJOUFb+TQq5gpOW4B97YU/ZAdtGV4E4GD6rl75SlwNNp50Om9MfwfKFZQOCB0AgAA0BMAnQEqeAB4AD5tMpdHpCMiIScSSpCADYlibuDArGVhmL9y1q7r3J0becJvVmHs6qv3P2Z9oDzAP0o/zHUA8wH7AfrX75H8l/wHsA9AD9nesA/nPqAfrX6cP66fBD+0n7h+0z//9bILo6u0x6VSRmwIi1L9xFB5LyIp5gKrcCGEiGestXqB65Biyk9sqUkqKz+c6EdfKhQjKMi/Uw4a5yugYgMQE8AA/tj5ABa34H//CA//gzf//BFi95bd1qPhzFh3/chT+W84Y3LwmKf5y9VdStavH2uQF1Cf+vQQq6z5Xyn0v8Hl2ht3jv4dLL/k3jfmZUHs+M/2ypi/UPBUeBl0+GKegEXx+F6vNfH00Arh9eld4C/nt9aWVmJwIoaoKum4XdpKlSibplYu3ZFSQLzU//oBEk8LkhhJU4200jYM8MNn/FhF+vrTnp/4py2VKy6nBfxWqz5Hdjs1Ps/OAA6MV27ibSTBLKfMaMNTVWiVVhnCIQo/vkGbp42Hu4k+TX+1P1AMtrdr7FZh4gzP2tvtT/rc8cX0XMSBztv53JjZQ1F+R7t8Hb37XH/CsiBb+7bD828ZCdfk12T2N8+1e2rbiqYJhHul35zO2eq3jjQuyMqBxW7myb9KUvqDgBiByTNZEDlBj/dGHZOL/kzOcXPj+mRsQSa3pJEloGBrwWJGMB/lD2eqebS0m7qN1iO/yh+PNSZLXknCN3pHrQ50MrTaN1iPBHeTqFt3PSZDmm0F4KL3//h3aAfoLzldEgiKbKr7Dk0YLN/j1Hcigmi6A2PozxmVemxPm/usEl0p6YlTf6+SQOd5N/XXU58xf2AAAAAAAA==")},null,8,["src"]),u(K).isShowDivisionImage?(w(),c(o,{key:0,class:"withdraw-password-item-value-segmentation",src:k})):q("",!0)])),_:2},1024),m(l,{type:a.type,style:p({color:u(K).text.inputColor}),"placeholder-style":JSON.stringify({color:u(K).text.placeHolderColor}),modelValue:u(O)[a.fieldName],"onUpdate:modelValue":e=>u(O)[a.fieldName]=e,class:"withdraw-password-item-value-input",placeholder:a.placeholder},null,8,["type","style","placeholder-style","modelValue","onUpdate:modelValue","placeholder"])])),_:2},1032,["style"])],64)))),128)),m(t,{class:"withdraw-password-item-lable m-top",style:p({color:u(K).text.normal})},{default:n((()=>[b(B(a.$t("account.withdrawalPassword.label.phone")),1)])),_:1},8,["style"]),m(t,{class:"withdraw-password-item-value",style:p({backgroundColor:""!=u(O).mobile?u(K).passwordItemBgColor:u(K).passwordItemNoValueBgColor,borderColor:""!=u(O).mobile?u(K).passwordItemBorderColor:u(K).passwordItemNoValueBorderColor})},{default:n((()=>[m(t,{class:"withdraw-password-item-value-icon-content"},{default:n((()=>[m(t,{class:"ft16 withdraw-password-item-value-icon",style:p({color:u(V).theme.text.theme2})},{default:n((()=>[b(B(u(G).phoneNumberPrefix),1)])),_:1},8,["style"]),m(o,{class:"withdraw-password-item-value-segmentation",src:k,mode:"aspectFit"})])),_:1}),m(l,{type:"text",modelValue:u(O).mobile,"onUpdate:modelValue":e[0]||(e[0]=a=>u(O).mobile=a),disabled:!u(O).canModifyPwd,maxlength:"10",style:p({color:u(K).text.inputColor}),"placeholder-style":JSON.stringify({color:u(K).text.placeHolderColor}),class:"withdraw-password-item-value-input",placeholder:a.$t("account.withdrawalPassword.label.phone")},null,8,["modelValue","disabled","style","placeholder-style","placeholder"])])),_:1},8,["style"]),m(t,{class:"m-top withdraw-password-item-code"},{default:n((()=>[m(t,{class:"withdraw-password-item-code-value",style:p({backgroundColor:""!=u(O).verificationCode?u(K).passwordItemBgColor:u(K).passwordItemNoValueBgColor,borderColor:""!=u(O).verificationCode?u(K).passwordItemBorderColor:u(K).passwordItemNoValueBorderColor,width:u(K).getOtpBtn.otpInputWidth})},{default:n((()=>[m(t,{class:"withdraw-password-item-value-icon-content"},{default:n((()=>[m(t,{class:"ft16 withdraw-password-item-value-icon",style:p({color:u(V).theme.text.theme2})},{default:n((()=>[b(" OTP ")])),_:1},8,["style"]),m(o,{class:"withdraw-password-item-value-segmentation",src:k,mode:"aspectFit"})])),_:1}),m(l,{type:"text",modelValue:u(O).verificationCode,"onUpdate:modelValue":e[1]||(e[1]=a=>u(O).verificationCode=a),class:"withdraw-password-item-value-input",style:p({color:u(K).text.inputColor}),"placeholder-style":JSON.stringify({color:u(K).text.placeHolderColor}),placeholder:a.$t("account.withdrawalPassword.label.otpPlaceholder")},null,8,["modelValue","style","placeholder-style","placeholder"])])),_:1},8,["style"]),m(t,{class:"get-otp-btn",style:p({width:u(K).getOtpBtn.width,color:u(K).getOtpBtn.textColor,background:u(K).getOtpBtn.background,backgroundSize:"100% 100%"}),onClick:E},{default:n((()=>[b(B(u(M)),1)])),_:1},8,["style"])])),_:1})])),_:1},8,["style"])])),_:1}),m(t,{class:"submit-btn-block",style:p({backgroundColor:u(K).btnBlockBgColor})},{default:n((()=>[m(t,{class:"submit-btn",style:p({background:u(K).submitBtnBgColor}),onClick:Z},{default:n((()=>[b(B(a.$t("account.button.confirm")),1)])),_:1},8,["style"])])),_:1},8,["style"])])),_:1},8,["title"])}}},[["__scopeId","data-v-a91b1d3a"]]);export{Q as default};
