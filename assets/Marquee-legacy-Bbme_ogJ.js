System.register(["./@ionic-legacy-DPSKJYXl.js","./index-legacy-BfwNR54Q.js","./@vue-legacy-Bd-ybgzA.js","./@stencil-legacy-B3F1rWbF.js"],(function(e,t){"use strict";var n,a,i,l,r,o,s,c,p,d,u,m,g,v,x,h,f;return{setters:[e=>{n=e.d,a=e.j,i=e.t,l=e.v},e=>{r=e.u,o=e.k},e=>{s=e.r,c=e.B,p=e.b,d=e.y,u=e.o,m=e.H,g=e.K,v=e.C,x=e.J,h=e.E,f=e.M},null],execute:function(){var t=document.createElement("style");t.textContent=".marquee{position:relative;height:25px;margin:8px 4px}.marquee ion-toolbar{--min-height: 25px;--padding-start: 0px;--padding-end: 0px;--padding-top: 0px;--padding-bottom: 0px;position:relative;height:25px;background:url(/testTestTest/home/icon-notice-bg.png) no-repeat!important;background-size:100% 100%!important}.marquee .roll-box{position:relative;width:100%;text-align:center;vertical-align:middle;white-space:nowrap;transition:all .2s ease-in-out;margin:0 8px 0 4px;overflow:hidden}.marquee .roll-box .roll-text{width:fit-content;position:relative}.marquee .roll-box .roll-text div{width:fit-content;position:relative;display:inline-block}.marquee .roll-box .roll-text div span{color:#fff;font-size:.6rem;font-weight:700;line-height:25px;letter-spacing:.0125em}\n",document.head.appendChild(t);const y={class:"marquee"},b=["innerHTML"],w=["innerHTML"];e("_",{__name:"Marquee",setup(e){const{getImgUrl:t}=r(),T=s(null),q=s(null),k=s("");let A;c((()=>{(async()=>{const e=await o();if("200"===e.state){const t=e.resultData.msgList||[];k.value=t.reduce(((e,t)=>e+`<span style="margin-right: 20px;">${t.msgContent.replaceAll(/<color=#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})>([^<>]+)<\/c>/g,'<span style="color: #$1">$2</span>')}</span>`),"")}else{const t=await i.create({message:e.msg,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}})()}));const M=async()=>{if(A&&clearInterval(A),0==q.value.offsetWidth||0==T.value.offsetWidth)return await(e=500,new Promise((t=>setTimeout(t,e)))),void M();var e;const t=25e4,n=l().addElement(q.value).duration(t).fromTo("transform","translateX(0)","translateX(-100%)");n.play(),A=setInterval((()=>{n.stop(),n.play()}),125e3)};let _;return p((()=>{_=new ResizeObserver((()=>M())),_.observe(q.value.lastChild)})),d((()=>M())),u((()=>{A&&clearInterval(A),_&&_.disconnect()})),(e,i)=>(m(),g("div",y,[v(h(a),null,{default:x((()=>[v(h(n),{slot:"start",class:"notice-icon",src:h(t)("/home/icon-notice.png"),style:{width:"24px",height:"24px",margin:"0 4px 0 0"}},null,8,["src"]),f("div",{slot:"primary",ref_key:"rollBox",ref:T,class:"roll-box"},[f("div",{ref_key:"rollText",ref:q,class:"roll-text",onAnimationstart:i[0]||(i[0]=(...t)=>e.handleAnimationStar&&e.handleAnimationStar(...t))},[f("div",{innerHTML:k.value},null,8,b),f("div",{innerHTML:k.value},null,8,w)],544)],512)])),_:1})]))}})}}}));
