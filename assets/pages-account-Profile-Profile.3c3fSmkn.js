import{_ as e,u as t,L as a,a as o,g as s,C as i,E as r,T as l,o as p,c,w as n,b as u,n as m,d as f,k as d,l as y,F as I,f as h,q as g,t as b,m as _,e as U,z as k,ag as w,ah as x,v,i as N}from"./index-DFuT50sq.js";import{_ as C}from"./right.B444FCpi.js";import{_ as j}from"./copy.BJ4WVX-I.js";/* empty css                                                               */import{P}from"./index.CYrmtXTq.js";import{a as z}from"./uni-app.es.CyCEEa3o.js";import{g as B}from"./account.DIaaoCiF.js";import{c as T}from"./convertBirthday.lhtdq7Mo.js";import"./icon-deposit.DobkRfMC.js";import"./icon-withdraw.CXbh9Bu3.js";const L=""+new URL("user-O8FcOm5D.png",import.meta.url).href,E=e=>""==e||null==e||null==e,H=e({__name:"Profile",setup(e){const H=t().theme.account.profile,{t:O}=a();o();const V=s(),F=i("Profile");let q=r({userId:V.userInfo.id,avtar:"",nikeName:V.userInfo.nikeName,phone:V.userInfo.mobile||O("account.profileItem.setUp"),birthday:O("account.profileItem.setUp"),email:O("account.profileItem.setUp"),whatsapp:O("account.profileItem.setUp"),facebook:O("account.profileItem.setUp"),telegram:O("account.profileItem.setUp"),twitter:O("account.profileItem.setUp"),birthdayInt:""});z((async()=>{D(),await V.getUserTotalInfo(),q.userId=V.userInfo.id,q.nikeName=V.userInfo.nikeName,q.phone=V.userInfo.mobile||O("account.profileItem.setUp")}));const D=async()=>{const{code:e,data:t}=await B({userId:V.userInfo.id});console.log(t),200==e&&null!=t&&(q.avtar=E(t.avtar)?O("account.profileItem.setUp"):t.avtar,q.birthday=E(t.birthday)?O("account.profileItem.setUp"):T(t.birthday).birthdayText,q.birthdayInt=E(t.birthday)?O("account.profileItem.setUp"):t.birthday,q.email=E(t.email)?O("account.profileItem.setUp"):t.email,q.facebook=E(t.facebook)?O("account.profileItem.setUp"):t.facebook,q.telegram=E(t.telegram)?O("account.profileItem.setUp"):t.telegram,q.twitter=E(t.twitter)?O("account.profileItem.setUp"):t.twitter,q.whatsapp=E(t.whatsapp)?O("account.profileItem.setUp"):t.whatsapp)};return(e,t)=>{const a=h,o=v,s=N,i=l("mobile-sub-layout");return p(),c(i,{title:F.value,lineHeight:4},{default:n((()=>[u(a,{class:"profile-body"},{default:n((()=>[u(a,{class:"profile-body-content",style:m({backgroundColor:f(H).lightBgColor})},{default:n((()=>[(p(!0),d(I,null,y(f(P),((e,t)=>(p(),c(a,{class:"profile-item",style:m({backgroundColor:f(H).profileItemBgColor}),key:t,onClick:t=>(e=>{console.log(e),e.type,"input"==e.type&&k({url:"/pages/account/components/EditProfile/EditProfile",success:function(t){let a=e;"birthday"==e.fieldName?a.fieldNameValue=q[e.fieldName]==O("account.profileItem.setUp")?"":q.birthdayInt:a.fieldNameValue=q[e.fieldName]==O("account.profileItem.setUp")?"":q[e.fieldName],t.eventChannel.emit("getProfileItem",a)}}),"copy"==e.type&&w({data:q[e.fieldName],success(){x({title:"Copy Success",icon:"success"})}}),"router"==e.type&&(q.phone==O("account.profileItem.setUp")?k({url:"/pages/account/PhoneBinding/PhoneBinding"}):k({url:"/pages/Login/LoginV2"}))})(e)},{default:n((()=>[u(a,{class:"profile-item-left",style:m({color:f(H).text.normal})},{default:n((()=>[g(b(e.name),1)])),_:2},1032,["style"]),u(a,{class:"profile-item-right"},{default:n((()=>["upload"!=e.type?(p(),c(o,{key:0,style:m({color:"input"==e.type||"router"==e.type?f(H).text.rightTextColor:f(H).text.copyTextColor}),class:_("input"==e.type||"router"==e.type?"profile-item-right-text":"profile-item-right-copy-text")},{default:n((()=>[g(b(f(q)[e.fieldName]),1)])),_:2},1032,["style","class"])):U("",!0),"upload"==e.type?(p(),c(s,{key:1,src:L,class:"avtar-size"})):U("",!0),"input"==e.type||"router"==e.type?(p(),c(s,{key:2,src:C,class:"right-image-size"})):U("",!0),"copy"==e.type?(p(),c(s,{key:3,src:j,class:"copy-image-size"})):U("",!0)])),_:2},1024)])),_:2},1032,["style","onClick"])))),128))])),_:1},8,["style"])])),_:1})])),_:1},8,["title"])}}},[["__scopeId","data-v-2b34a255"]]);export{H as default};
