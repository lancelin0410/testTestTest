import{_ as t,u as e,a,D as s,a3 as l,E as o,ae as r,R as i,o as c,c as d,w as f,b as n,n as u,d as h,e as p,p as m,t as g,x as y,k as _,l as x,F as k,i as b,f as w,af as S,ag as C,y as $}from"./index-D6FzdE0N.js";import{_ as v}from"./icon-check-white.GzLgMC5Y.js";import{_ as j}from"./icon-gmt.DGuP8vzQ.js";import{_ as D,a as U}from"./icon-copy.5mtOiL8f.js";import{_ as R}from"./icon-pending.ChzXxQ6B.js";import{T as B}from"./toast.BErREgqV.js";import{N as F}from"./NoDataSearch.Ya-trXOw.js";import{a as I}from"./data-formatter.DJPK8l9W.js";import{g as N,a as L}from"./date-formatter.WRZnbcvu.js";import{S as A}from"./SegmentControl.D4GeQGWJ.js";import"./no-data-withdraw.BQz0OKhQ.js";const E=t({__name:"DepositHistory",setup(t){const E=e(),O=a(),T=s({active:0,total:0,dateShow:N(2),list:[],isSelfUtr:!1}),q=l((()=>T.isSelfUtr?T.list.filter((t=>0!==t.manualRechargeStatus)):T.list));o((()=>{z()}));const z=async()=>{let t=0;0===T.active?(t=0,T.dateShow=`${N(2)}`):1===T.active?(t=7,T.dateShow=`${N(2)} ~ ${L(7,2)}`):2===T.active&&(t=30,T.dateShow=`${N(2)} ~ ${L(30,2)}`),B.showLoading("Loading");const{code:e,data:a}=await r({dayRange:t,page:1,pageSize:100});if(B.hideLoading(),200!==e)return;const s=a||[];T.list=s;let l=0;s.forEach((t=>{l=l+t.amount+t.giftAmount})),T.total=l},H=({index:t})=>{T.active=t,z()};return(t,e)=>{const a=b,s=w,l=i("mobile-sub-layout");return c(),d(l,{title:t.$t("deposit.title3")},{"header-right":f((()=>[n(s,{class:"flex-acenter",onClick:e[0]||(e[0]=y((()=>T.isSelfUtr=!T.isSelfUtr),["stop"]))},{default:f((()=>[n(s,{class:"check-radio flex-acenter flex-scenter cfff ft26",style:u({"border-color":h(E).theme.themeDarkBgColor,background:h(E).theme.themeDarkBgColor})},{default:f((()=>[T.isSelfUtr?(c(),d(a,{key:0,src:v,mode:"aspectFit",style:{width:"30rpx",height:"30rpx"}})):p("",!0)])),_:1},8,["style"]),n(s,{class:"ft10",style:{width:"120rpx"}},{default:f((()=>[m(g(t.$t("deposit.button.selfUtrCheck")),1)])),_:1})])),_:1})])),default:f((()=>[n(s,{class:"withdraw-history-container",style:u({background:h(E).theme.bgColor})},{default:f((()=>[n(s,{class:"tabs-view",style:u({top:h(O).headerStyle.height+"px",background:h(E).theme.bgColor})},{default:f((()=>[n(A,{lineWidth:100,listData:[{title:t.$t("deposit.tabs.tab1")},{title:t.$t("deposit.tabs.tab2")},{title:t.$t("deposit.tabs.tab3")}],onChange:H},null,8,["listData"]),n(s,{style:u([{height:"8rpx"},{background:h(E).theme.darkSeplineColor}])},null,8,["style"])])),_:1},8,["style"]),n(s,{class:"flex-acenter flex-sbetween ptb16 pt32 plr30"},{default:f((()=>[n(s,{class:"flex-acenter"},{default:f((()=>[n(s,{class:"ft12"},{default:f((()=>[m(g(T.dateShow),1)])),_:1}),306===h(O).appId?(c(),d(s,{key:0,class:"ml24 gmt-view flex-acenter",style:u({background:h(E).theme.themeDarkBgColor})},{default:f((()=>[n(a,{src:j,mode:"aspectFit",style:{width:"25rpx",height:"25rpx"}}),n(s,{class:"ml8 ft11"},{default:f((()=>[m(g(h(O).timeZone),1)])),_:1})])),_:1},8,["style"])):p("",!0)])),_:1}),n(s,{class:"ft12"},{default:f((()=>[m(g(t.$t("deposit.total"))+" :"+g(h(I)(T.total)),1)])),_:1})])),_:1}),n(s,{class:""},{default:f((()=>[(c(!0),_(k,null,x(q.value,(e=>(c(),d(s,{class:"plr30 pb16",key:e,onClick:t=>(t=>{$({url:`/pages/wallet/DepositOrderDetail?orderId=${t.id}`})})(e)},{default:f((()=>[n(s,{class:"list-item-content plr30 ptb16 flex-acenter flex-sbetween",style:u({background:h(E).theme.lightBgColor})},{default:f((()=>[n(s,{class:"list-item-icon flex-shrink-0"},{default:f((()=>[1===e.status?(c(),d(a,{key:0,src:D,style:{width:"50rpx",height:"50rpx"}})):(c(),d(a,{key:1,src:R,style:{width:"50rpx",height:"50rpx"}})),0!==e.manualRechargeStatus?(c(),d(s,{key:2,class:"list-item-utr-conner"},{default:f((()=>[n(s,null,{default:f((()=>[m("Self")])),_:1})])),_:1})):p("",!0)])),_:2},1024),n(s,{class:"plr30 flex-1"},{default:f((()=>[n(s,{class:"ft10"},{default:f((()=>[m(g(e.orderedOn||""),1)])),_:2},1024),n(s,{class:"flex-acenter"},{default:f((()=>[n(s,{class:"ft10"},{default:f((()=>[m(g(t.$t("deposit.orderId"))+": "+g(e.orderNo||""),1)])),_:2},1024),n(s,{class:"ml16",onClick:y((t=>{return a=e.orderNo,void S({data:a,success(){C({title:"Copy Success",icon:"success"})}});var a}),["stop"])},{default:f((()=>[n(a,{src:U,mode:"aspectFit",style:{width:"20rpx",height:"20rpx"}})])),_:2},1032,["onClick"])])),_:2},1024),n(s,{class:"ft8",style:u({color:h(E).theme.text.subtitle})},{default:f((()=>[m(" Method: "+g(e.rechargeType),1)])),_:2},1032,["style"])])),_:2},1024),n(s,{class:"flex-shrink-0 text-a-right"},{default:f((()=>[n(s,{class:"ft13",style:u({color:h(E).theme.text.highlight})},{default:f((()=>[m(" +"+g(h(I)(e.amount,2)),1)])),_:2},1032,["style"]),n(s,{class:"ft11 mt16"},{default:f((()=>[m(g(t.$t("deposit.bonus"))+": +"+g(e.giftAmount),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["style"])])),_:2},1032,["onClick"])))),128)),q.value.length?p("",!0):(c(),d(F,{key:0,title:t.$t("deposit.message.nodata")},null,8,["title"]))])),_:1})])),_:1},8,["style"])])),_:1},8,["title"])}}},[["__scopeId","data-v-36774d95"]]);export{E as default};
