import{_ as e,u as t,a as s,o as l,k as a,D as n,n as i,d as o,y as r,b as d,an as c,t as m,e as u,r as p,ao as g,ap as h,j as w,i as v,g as b,C as f,E as y,P as x,G as F,aq as _,ar as I,as as E,H,c as S,w as k,at as q,f as R,q as C,z as j}from"./index-DFuT50sq.js";import{_ as z}from"./icon-deposit.DobkRfMC.js";import{o as W}from"./uni-app.es.CyCEEa3o.js";import{H as D}from"./HomeNotice.B7y8nzW-.js";import{r as G}from"./game.COBAJ5wg.js";const O=""+new URL("img-game-loading-DqdXeSdI.png",import.meta.url).href,T=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},U=e({__name:"MobileGameHeader",props:{title:{type:String,default:""}},setup(e){const b=t(),f=s(),y=()=>{g().length>1?h():w({url:"/pages/home/Home"}),T()};return(t,s)=>{const g=v;return l(),a("div",{class:"mobile-sub-header-container",style:i({height:o(f).headerStyle.height+"px",background:o(b).theme.bgColor})},[n("div",{class:"mobile-state-bar",style:i({height:o(f).headerStyle.statusBarHeight+"px"})},null,4),n("div",{class:"mobile-header",style:i({height:o(f).headerStyle.navigateBarHeight+"px"})},[n("div",{class:"left",onClick:r(y,["stop"])},[d(g,{src:c,mode:"aspectFit",style:{width:"40px",height:"20px"}})]),n("div",{class:"middle title"},[e.title?(l(),a("div",{key:0},m(e.title),1)):u("",!0),p(t.$slots,"title",{},void 0,!0)]),n("div",{class:"right"},[p(t.$slots,"right",{},void 0,!0)])],4)],4)}}},[["__scopeId","data-v-7546e650"]]),B=e({__name:"GameWeb",setup(e){const t=s(),a=b(),c=f(null),m=y({gameId:"",url:"",webviewHeight:600,webviewWidth:300,loading:!0,reportInterval:null});W((e=>{let t=x("GAME_URL_KEY");t||e.url&&(t=decodeURIComponent(e.url)),m.url=t,m.gameId=e.gameId||"",console.log("打开webview",gameId,t),p()})),F((()=>{document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen(),setTimeout((()=>{h()}),100),setTimeout((()=>{m.loading=!1}),2e3),_(h)})),I((()=>{T(),E(h),g(),G()}));const p=()=>{m.reportInterval&&g(),a.reportOnline(m.gameId),m.reportInterval=setInterval((()=>{a.reportOnline(m.gameId)}),18e4)},g=()=>{m.reportInterval&&(clearInterval(m.reportInterval),m.reportInterval=null)},h=()=>{H((()=>{const e=q();m.webviewHeight=e.windowHeight-t.headerStyle.height,m.webviewWidth=e.windowWidth,console.log("window size",m.webviewHeight,m.webviewWidth)}))},w=()=>{j({url:"/pages/wallet/Deposit"})};return(e,s)=>{const a=R,p=v;return l(),S(a,{ref_key:"gameWebRef",ref:c,class:"game-web-container",id:"game-web-container",style:i({"padding-top":o(t).headerStyle.height+"px"})},{default:k((()=>[d(U,null,{right:k((()=>[d(a,{class:"flex-acenter ft12 pr8",onClick:r(w,["stop"])},{default:k((()=>[d(a,{class:"mr16"},{default:k((()=>[C(" Deposit ")])),_:1}),d(p,{src:z,mode:"aspectFit",style:{width:"30px",height:"30px"}})])),_:1})])),title:k((()=>[d(a,{class:"pr30",style:{width:"60vw"}},{default:k((()=>[d(D,{speed:1})])),_:1})])),_:1}),d(a,{class:"game-view"},{default:k((()=>[n("iframe",{src:m.url,class:"iframe-view",style:i({top:o(t).headerStyle.height+"px",height:m.webviewHeight+"px"})},null,12,["src"]),m.loading?(l(),S(p,{key:0,src:O,mode:"aspectFill",class:"iframe-view-loading"})):u("",!0)])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-f245c2cd"]]);export{B as default};
