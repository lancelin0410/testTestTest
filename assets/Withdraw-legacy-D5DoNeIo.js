System.register(["./@vue-legacy-B1EAGH60.js","./vue-i18n-legacy-DjTkttSq.js","./vue-router-legacy-B0n9GxF1.js","./@ionic-legacy-DMctsmQJ.js","./ionicons-legacy-DYh71j0f.js","./index-legacy-DRYbprnH.js","./withdraw-legacy-BJtAS3G3.js","./@intlify-legacy-DDHA1rkh.js","./@stencil-legacy-B3F1rWbF.js","./@capacitor-legacy-DN4LNBqm.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./pinia-legacy-CH_RGYsZ.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-CuOL20OL.js","./rxjs-legacy-C12cs3ed.js","./tslib-legacy-BRpw1qYg.js"],(function(t,a){"use strict";var e,i,n,o,r,l,s,d,u,p,c,w,g,h,m,f,b,v,x,k,y,A,P,C,_,$,L,D,j,z,S,F,N,I,W,B,O,V,E,M,T,U,R,H,J,K,Q,q,G;return{setters:[t=>{e=t.r,i=t.H,n=t.I,o=t.J,r=t.M,l=t.P,s=t.C,d=t.E,u=t.U,p=t.O,c=t.j,w=t.B,g=t.a,h=t.R,m=t.K,f=t.Q,b=t.L,v=t.F,x=t._,k=t.V},t=>{y=t.u},t=>{A=t.b},t=>{P=t.K,C=t.O,_=t.t,$=t.d,L=t.P,D=t.R,j=t.y,z=t.L,S=t.M,F=t.o,N=t.Q,I=t.j,W=t.m,B=t.k,O=t.h,V=t.z},t=>{E=t.b,M=t.e},t=>{T=t.l,U=t.c,R=t.e,H=t.m,J=t.u},t=>{K=t.g,Q=t.a,q=t.b,G=t.c},null,null,null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".setPassword-popup{--background: var(--ion-background-light-color);--width: 88vw;--height: fit-content;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);--border-radius: 6px}.setPassword-popup .wrapper{margin:16px 8px;padding:0 12px;height:fit-content}.setPassword-popup .wrapper ion-img.btn-close{width:32px;height:32px;position:absolute;top:0;right:0}.setPassword-popup .wrapper .dialog-title{text-align:center;margin-bottom:8px}.setPassword-popup .wrapper .dialog-content{font-size:.9rem;color:#fff;padding:8px 4px;margin-bottom:8px}.setPassword-popup .wrapper .btn-group{display:flex;justify-content:space-between}.setPassword-popup .wrapper .btn-group ion-button{position:relative;color:#fff}.setPassword-popup .wrapper .btn-group ion-button.btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04)}.setPassword-popup .wrapper .btn-group ion-button.btn-cancel{--background: linear-gradient(0deg, #32b12f 0%, #10740b 100%);--background-activated: linear-gradient(30deg, #32b12f 0%, #10740b 100%)}.bankCard-popup{--background: var(--ion-background-light-color);--width: 88vw;--height: fit-content;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);--border-radius: 6px}.bankCard-popup .wrapper{margin:16px 8px;padding:0 12px;height:fit-content}.bankCard-popup .wrapper ion-img.btn-close{width:32px;height:32px;position:absolute;top:0;right:0}.bankCard-popup .wrapper .dialog-title{text-align:center;margin-bottom:8px}.bankCard-popup .wrapper .dialog-content{font-size:.9rem;color:#fff;padding:8px 4px;margin-bottom:8px}.bankCard-popup .wrapper .btn-group{display:flex;justify-content:space-between}.bankCard-popup .wrapper .btn-group ion-button{position:relative;color:#fff}.bankCard-popup .wrapper .btn-group ion-button.btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04)}.bankCard-popup .wrapper .btn-group ion-button.btn-cancel{--background: linear-gradient(0deg, #32b12f 0%, #10740b 100%);--background-activated: linear-gradient(30deg, #32b12f 0%, #10740b 100%)}.withdraw .block-title{margin-bottom:12px}.withdraw .balance-card{position:relative;width:100%;height:10vh;margin:8px 0}.withdraw .balance-card ion-img,.withdraw .balance-card::part(image){position:absolute;height:100%;width:100%;object-fit:contain}.withdraw .balance-card .balance-content{position:relative;width:100%;height:100%;color:#000;display:flex;flex-direction:column;align-items:center;justify-content:center}.withdraw .balance-card .balance-amount{font-size:1.4rem;margin-top:12px}.withdraw .btn-change-account{height:100%;font-size:.8rem;font-weight:700;color:#fdea5a;text-decoration-line:underline}.withdraw .amount-item{width:100%;height:2.4rem;line-height:2rem;border-radius:20px;background-color:var(--ion-background-light-color);text-align:center;margin:8px 2px}.withdraw .amount-item.select{background-color:#f37e1c}.withdraw .limit-item{margin:8px 0;padding:0;border-radius:10px}.withdraw .btn-withdraw{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04);font-size:1.2rem;min-height:3rem}.withdraw-info{--height: auto}.withdraw-info .ion-delegate-host.ion-page{padding:8px 0;min-height:65vh;height:fit-content}.withdraw-info .account-number{font-weight:400;font-size:2rem;color:#ffdf3f;text-align:center}.withdraw-info .account-text{font-size:.8rem;color:#fa8484;text-align:center}.withdraw-info .block-title{font-size:1rem;margin:12px 0}.withdraw-info .detail-item{margin:8px 0;padding:0;border-radius:10px}.withdraw-info ion-input{border-radius:10px!important;border:3px solid #c5000f}.withdraw-info ion-input label.input-wrapper{padding:4px 8px;height:48px}.withdraw-info ion-input .input-prefix{color:#c5000f;width:48px;height:35px;border-right:2px solid #c5000f;padding-right:8px;line-height:35px;text-align:center}.withdraw-info .btn-withdraw{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04);font-size:1.2rem;min-height:3rem;margin:16px}\n",document.head.appendChild(a);const X={class:"wrapper"},Y={class:"dialog-title"},Z={class:"dialog-content"},tt={class:"btn-group"},at={__name:"SetPasswordPopup",setup(t,{expose:a}){const c=A(),{popupEnter:w,popupLeave:g}=T(),h=e(!1),m=()=>{h.value=!1,c.push({name:"WithdrawPassword"})};return a({showDialog:async()=>{h.value=!0}}),(t,a)=>(i(),n(d(C),{class:"setPassword-popup",isOpen:h.value,enterAnimation:d(w),leaveAnimation:d(g),onDidDismiss:a[1]||(a[1]=t=>h.value=!1)},{default:o((()=>[r("div",X,[r("h3",Y,l(t.$t("withdraw.setPasswordPopup.title")),1),r("div",Z,l(t.$t("withdraw.setPasswordPopup.des")),1),r("div",tt,[s(d(P),{class:"btn-cancel ion-text-capitalize",fill:"solid",shape:"round",onClick:a[0]||(a[0]=u((t=>h.value=!1),["stop"]))},{default:o((()=>[p(l(t.$t("withdraw.button.cancel")),1)])),_:1}),s(d(P),{class:"btn-confirm ion-text-capitalize",fill:"solid",shape:"round",onClick:u(m,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.goToSetPassword")),1)])),_:1})])])])),_:1},8,["isOpen","enterAnimation","leaveAnimation"]))}},et={class:"wrapper"},it={class:"dialog-title"},nt={class:"dialog-content"},ot={class:"btn-group"},rt={__name:"BankCardPopup",setup(t,{expose:a}){const c=A(),{popupEnter:w,popupLeave:g}=T(),h=e(!1),m=()=>{h.value=!1,c.push({name:"BankCardList"})};return a({showDialog:async()=>{h.value=!0}}),(t,a)=>(i(),n(d(C),{class:"bankCard-popup",isOpen:h.value,enterAnimation:d(w),leaveAnimation:d(g),onDidDismiss:a[1]||(a[1]=t=>h.value=!1)},{default:o((()=>[r("div",et,[r("h3",it,l(t.$t("withdraw.bankCardPopup.title")),1),r("div",nt,l(t.$t("withdraw.bankCardPopup.des")),1),r("div",ot,[s(d(P),{class:"btn-cancel ion-text-capitalize",fill:"solid",shape:"round",onClick:a[0]||(a[0]=u((t=>h.value=!1),["stop"]))},{default:o((()=>[p(l(t.$t("withdraw.button.cancel")),1)])),_:1}),s(d(P),{class:"btn-confirm ion-text-capitalize",fill:"solid",shape:"round",onClick:u(m,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.addNewAccount")),1)])),_:1})])])])),_:1},8,["isOpen","enterAnimation","leaveAnimation"]))}},lt={class:"balance-card"},st={class:"balance-content"},dt={class:"balance-title"},ut={class:"balance-amount"},pt={style:{margin:"4px 0"}},ct={class:"block-title ion-justify-content-between",style:{display:"flex"}},wt={style:{color:"#fdea5a"}},gt={style:{margin:"4px 0"}},ht={class:"block-title"},mt={key:0},ft=r("hr",null,null,-1),bt={slot:"start",style:{color:"#FD5959","font-size":"0.8rem"}},vt={slot:"end"},xt={slot:"start",style:{color:"#FD5959","font-size":"0.8rem"}},kt={slot:"end"},yt={slot:"start",style:{color:"#FD5959","font-size":"0.8rem"}},At={slot:"end"},Pt={slot:"start",style:{color:"#FD5959","font-size":"0.8rem"}},Ct={slot:"end"},_t=r("hr",null,null,-1),$t={style:{margin:"4px 0"}},Lt={class:"block-title"},Dt={style:{"font-size":"0.8rem"}},jt={style:{color:"#ffdf3f","margin-left":"4px"}},zt={style:{color:"#ffdf3f","margin-left":"4px"}},St={class:"account-number"},Ft={class:"account-text"},Nt=r("br",null,null,-1),It={slot:"start",style:{color:"#FD5959","font-size":"0.8rem"}},Wt={slot:"end"},Bt={slot:"start",style:{color:"#FD5959","font-size":"0.8rem"}},Ot={slot:"end"},Vt={style:{"font-size":"0.8rem",color:"#fa8484"}},Et={style:{color:"#ffdf3f",margin:"0 4px"}},Mt={style:{margin:"4px 0"}},Tt={class:"block-title"},Ut={slot:"start",style:{color:"#FD5959","font-size":"0.8rem"}},Rt={slot:"end"},Ht={style:{margin:"4px 0"}},Jt={class:"block-title"};t("default",{__name:"Withdraw",setup(t){const{t:a}=y(),T=A(),X=U(),Y=R(),{getImgUrl:Z}=J(),tt=e(null),et=e(null),it=e(!1),nt=e(!1),ot=e(1),Kt="Rs",Qt=e(0),qt=e(0),Gt=e([]),Xt=c({withdrawAmount:0,remainingWithdrawLimit:"",remainingWithdrawCount:"",withdrawLimit:"",vipDailyLimit:"",balance:"",bankInfo:{},withdrawAccounts:[]}),Yt=c({withdrawAmount:0,withdrawFee:0,arrivalAmount:0,bankAccount:"",serviceCharge:0,withdrawPassword:""});w((async()=>{X.barLoading=!0;const t=await H({userId:Y.userInfo.id});if("200"===t.state){var a;Xt.withdrawAccounts=(null===(a=t.resultData.withdrawAccounts)||void 0===a?void 0:a.map((t=>(t.withdrawAccount=JSON.parse(t.withdrawAccount),t))))||[]}else{const a=await _.create({message:t.msg,duration:1500,position:"top",color:"danger",translucent:!0});await a.present()}const e=await K();if("200"===e.state)nt.value=e.resultData,nt.value||tt.value.showDialog();else{const t=await _.create({message:e.msg,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}const i=await Q();if("200"===i.state)console.log(i.resultData),ot.value=i.resultData.configType,Xt.remainingWithdrawLimit=i.resultData.remainingWithdrawLimit,Xt.withdrawLimit=i.resultData.withdrawLimit,Xt.remainingWithdrawCount=i.resultData.remainingWithdrawCount,Xt.vipDailyLimit=i.resultData.vipDailyLimit,Xt.balance=i.resultData.balance,i.resultData.amountParam&&(Gt.value=i.resultData.amountParam.split(",").map((t=>Number(t))),Qt.value=Gt.value[0],qt.value=Gt.value[Gt.value.length-1],Xt.withdrawAmount=Qt.value);else{const t=await _.create({message:i.msg,duration:1500,position:"top",color:"danger",translucent:!0});await t.present()}X.barLoading=!1}));const Zt=()=>{nt.value?T.push({name:"BankCardList"}):tt.value.showDialog()},ta=()=>{nt.value?T.push({name:"BankCardList"}):tt.value.showDialog()},aa=async()=>{if(!nt.value)return void tt.value.showDialog();if(0==Xt.withdrawAccounts.length)return void et.value.showDialog();if(1==ot.value&&Number(Xt.withdrawAmount)<=0){const t=await _.create({message:a("withdraw.toast.text3"),duration:1500,position:"top",color:"danger",translucent:!0});return void(await t.present())}if(Number(Xt.withdrawAmount)<Qt.value||Number(Xt.withdrawAmount)>qt.value){const t=await _.create({message:`Min: ${Qt.value} Max: ${qt.value}`,duration:1500,position:"top",color:"danger",translucent:!0});return void(await t.present())}X.fullLoading=!0;const t=await q({withdrawAmount:Xt.withdrawAmount});if("200"===t.state)Yt.arrivalAmount=t.arrivalAmount,Yt.bankAccount=t.bankAccount||Xt.bankInfo.withdrawAccount.accountNumber,Yt.serviceCharge=t.serviceCharge,Yt.withdrawAmount=t.withdrawAmount,Yt.withdrawFee=t.withdrawFee,Yt.withdrawPassword="",it.value=!0;else{const a=await _.create({message:t.msg,duration:1500,position:"top",color:"danger",translucent:!0});await a.present()}X.fullLoading=!1},ea=async()=>{if(0==Yt.withdrawPassword.length){const t=await _.create({message:a("withdraw.toast.text1"),duration:1500,position:"top",color:"warning",translucent:!0});return void(await t.present())}X.fullLoading=!0;const t=await G({withdrawAmount:Yt.withdrawAmount,withdrawPasswd:Yt.withdrawPassword,withdrawTypeId:Xt.bankInfo.withdrawTypeId});if("200"===t.state){const t=await _.create({message:a("withdraw.toast.text2"),duration:1500,position:"top",color:"success",translucent:!0});await t.present(),it.value=!1}else{const a=await _.create({message:t.msg,duration:1500,position:"top",color:"danger",translucent:!0});await a.present()}X.fullLoading=!1};return(t,a)=>{const e=x("ion-header");return g((i(),n(d(O),{class:"withdraw"},{default:o((()=>[s(d(F),null,{default:o((()=>{var e;return[r("div",lt,[s(d($),{src:d(Z)("/wallet/img-bg-balance.png")},null,8,["src"]),r("div",st,[r("div",dt,l(t.$t("withdraw.myBalance")),1),r("div",ut,l(d(Kt))+" "+l(null===(e=Xt.balance)||void 0===e?void 0:e.toLocaleString()),1)])]),r("div",pt,[r("div",ct,[r("span",null,l(t.$t("withdraw.bankAccount")),1),r("span",{class:"btn-change-account",onClick:u(ta,["stop"])},l(t.$t("withdraw.changeBankAccount")),1)]),s(d(P),{color:"danger",expand:"block",onClick:u(Zt,["stop"])},{default:o((()=>[s(d(L),{slot:"start",icon:d(E),style:{color:"#fdea5a"}},null,8,["icon"]),r("span",wt,l(t.$t("withdraw.addNewAccount")),1)])),_:1})]),r("div",gt,[r("div",ht,[p(l(t.$t("withdraw.withdrawAmount"))+" ",1),1==ot.value?(i(),m("span",mt,"("+l(d(Kt))+" "+l(Qt.value)+" - "+l(qt.value)+" )",1)):f("",!0)]),1==ot.value?(i(),n(d(D),{key:0,modelValue:Xt.withdrawAmount,"onUpdate:modelValue":a[0]||(a[0]=t=>Xt.withdrawAmount=t),label:d(Kt),type:"number",placeholder:t.$t("withdraw.withdrawAmount"),max:qt.value,min:Qt.value,clearInput:!0},null,8,["modelValue","label","placeholder","max","min"])):f("",!0),2==ot.value?(i(),n(d(j),{key:1,style:{margin:"8px 0"}},{default:o((()=>[(i(!0),m(v,null,b(Gt.value,((t,a)=>(i(),n(d(V),{key:a,size:"3.8",class:k(["amount-item",{select:Number(t)==Number(Xt.withdrawAmount)}]),onClick:u((a=>{return e=t,void(Xt.withdrawAmount=Number(e));var e}),["stop"])},{default:o((()=>[r("div",null,l(d(Kt))+" "+l(null==t?void 0:t.toLocaleString()),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0)]),ft,s(d(z),null,{default:o((()=>[s(d(S),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",bt,l(t.$t("withdraw.items1"))+":",1),r("span",vt,l(d(Kt))+" "+l(null===(a=Xt.remainingWithdrawLimit)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1}),s(d(S),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",xt,l(t.$t("withdraw.items2"))+":",1),r("span",kt,l(d(Kt))+" "+l(null===(a=Xt.vipDailyLimit)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1}),s(d(S),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",yt,l(t.$t("withdraw.items3"))+":",1),r("span",At,l(d(Kt))+" "+l(null===(a=Xt.withdrawLimit)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1}),s(d(S),{class:"limit-item",lines:"none"},{default:o((()=>{var a;return[r("span",Pt,l(t.$t("withdraw.items4"))+":",1),r("span",Ct,l(null===(a=Xt.remainingWithdrawCount)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1})])),_:1}),_t,r("div",$t,[r("div",Lt,l(t.$t("withdraw.tips.title"))+": ",1),r("span",Dt,[r("span",null,l(t.$t("withdraw.tips.tips1")),1),r("span",jt,l(t.$t("withdraw.tips.tips2")),1),r("span",null,l(t.$t("withdraw.tips.tips3")),1),r("span",zt,l(t.$t("withdraw.tips.tips4")),1),p(". ")])])]})),_:1}),s(d(N),null,{default:o((()=>[s(d(P),{class:"btn-withdraw",expand:"block",shape:"round",onClick:u(aa,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.withdraw")),1)])),_:1})])),_:1}),s(at,{ref_key:"setPasswordPopup",ref:tt},null,512),s(rt,{ref_key:"bankCardPopup",ref:et},null,512),s(d(C),{class:"withdraw-info","is-open":it.value,"initial-breakpoint":1,breakpoints:[0,1]},{default:o((()=>[s(e,null,{default:o((()=>[s(d(I),null,{default:o((()=>[s(d(W),null,{default:o((()=>[p(l(t.$t("withdraw.configPopup.title")),1)])),_:1}),s(d(B),{style:{position:"absolute",top:"0",right:"16px"}},{default:o((()=>[s(d(P),{onClick:a[1]||(a[1]=u((t=>it.value=!1),["stop"]))},{default:o((()=>[s(d(L),{slot:"icon-only",icon:d(M),color:"light"},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),s(d(F),{class:"ion-padding"},{default:o((()=>{var e;return[r("div",St,l(d(Kt))+" "+l(null===(e=Yt.arrivalAmount)||void 0===e?void 0:e.toLocaleString()),1),r("div",Ft,l(t.$t("withdraw.configPopup.arrivalAmount")),1),Nt,s(d(z),null,{default:o((()=>[s(d(S),{class:"detail-item",lines:"none"},{default:o((()=>{var a;return[r("span",It,l(t.$t("withdraw.configPopup.title"))+":",1),r("span",Wt,l(d(Kt))+" "+l(null===(a=Yt.withdrawAmount)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1}),s(d(S),{class:"detail-item",lines:"none"},{default:o((()=>{var a;return[r("span",Bt,l(t.$t("withdraw.configPopup.serviceCharge"))+":",1),r("span",Ot,l(d(Kt))+" "+l(null===(a=Yt.serviceCharge)||void 0===a?void 0:a.toLocaleString()),1)]})),_:1}),r("div",Vt,[r("span",null,l(t.$t("withdraw.configPopup.des1")),1),r("span",Et,l(Yt.withdrawFee)+"%",1),r("span",null,l(t.$t("withdraw.configPopup.des2")),1)]),r("div",Mt,[r("div",Tt,l(t.$t("withdraw.configPopup.chooseBankAccount")),1),s(d(S),{class:"detail-item",lines:"none"},{default:o((()=>[r("span",Ut,l(t.$t("withdraw.configPopup.yourBankAccount"))+":",1),r("span",Rt,l(Yt.bankAccount),1)])),_:1})])])),_:1}),r("div",Ht,[r("div",Jt,l(t.$t("withdraw.configPopup.withdrawPassword")),1),s(d(D),{modelValue:Yt.withdrawPassword,"onUpdate:modelValue":a[2]||(a[2]=t=>Yt.withdrawPassword=t),placeholder:t.$t("withdraw.configPopup.placeHolder")},null,8,["modelValue","placeholder"])]),s(d(P),{class:"btn-withdraw",expand:"block",shape:"round",onClick:u(ea,["stop"])},{default:o((()=>[p(l(t.$t("withdraw.button.withdraw")),1)])),_:1})]})),_:1})])),_:1},8,["is-open"])])),_:1},512)),[[h,Gt.value.length>0]])}}})}}}));
