import{_ as I,a as w,b,c as O,d as Z,e as V,f as x,g as $,h as N}from"./tslib-BHBn2Msb.js";function s(r){return typeof r=="function"}function rr(r){var n=function(t){Error.call(t),t.stack=new Error().stack},e=r(n);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var A=rr(function(r){return function(e){r(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,o){return o+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});function M(r,n){if(r){var e=r.indexOf(n);0<=e&&r.splice(e,1)}}var k=function(){function r(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var n,e,t,o,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=I(u),a=c.next();!a.done;a=c.next()){var f=a.value;f.remove(this)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}else u.remove(this);var d=this.initialTeardown;if(s(d))try{d()}catch(l){i=l instanceof A?l.errors:[l]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var h=I(y),v=h.next();!v.done;v=h.next()){var m=v.value;try{Y(m)}catch(l){i=i!=null?i:[],l instanceof A?i=w(w([],b(i)),b(l.errors)):i.push(l)}}}catch(l){t={error:l}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(t)throw t.error}}}if(i)throw new A(i)}},r.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)Y(n);else{if(n instanceof r){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}},r.prototype._hasParent=function(n){var e=this._parentage;return e===n||Array.isArray(e)&&e.includes(n)},r.prototype._addParent=function(n){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n},r.prototype._removeParent=function(n){var e=this._parentage;e===n?this._parentage=null:Array.isArray(e)&&M(e,n)},r.prototype.remove=function(n){var e=this._finalizers;e&&M(e,n),n instanceof r&&n._removeParent(this)},r.EMPTY=function(){var n=new r;return n.closed=!0,n}(),r}();k.EMPTY;function B(r){return r instanceof k||r&&"closed"in r&&s(r.remove)&&s(r.add)&&s(r.unsubscribe)}function Y(r){s(r)?r():r.unsubscribe()}var j={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},q={setTimeout:function(r,n){for(var e=[],t=2;t<arguments.length;t++)e[t-2]=arguments[t];return setTimeout.apply(void 0,w([r,n],b(e)))},clearTimeout:function(r){var n=q.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(r)},delegate:void 0};function J(r){q.setTimeout(function(){throw r})}function C(){}function er(r){r()}var U=function(r){O(n,r);function n(e){var t=r.call(this)||this;return t.isStopped=!1,e?(t.destination=e,B(e)&&e.add(t)):t.destination=or,t}return n.create=function(e,t,o){return new P(e,t,o)},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(k),nr=Function.prototype.bind;function T(r,n){return nr.call(r,n)}var tr=function(){function r(n){this.partialObserver=n}return r.prototype.next=function(n){var e=this.partialObserver;if(e.next)try{e.next(n)}catch(t){S(t)}},r.prototype.error=function(n){var e=this.partialObserver;if(e.error)try{e.error(n)}catch(t){S(t)}else S(n)},r.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(e){S(e)}},r}(),P=function(r){O(n,r);function n(e,t,o){var i=r.call(this)||this,u;if(s(e)||!e)u={next:e!=null?e:void 0,error:t!=null?t:void 0,complete:o!=null?o:void 0};else{var c;i&&j.useDeprecatedNextContext?(c=Object.create(e),c.unsubscribe=function(){return i.unsubscribe()},u={next:e.next&&T(e.next,c),error:e.error&&T(e.error,c),complete:e.complete&&T(e.complete,c)}):u=e}return i.destination=new tr(u),i}return n}(U);function S(r){J(r)}function ir(r){throw r}var or={closed:!0,next:C,error:ir,complete:C},_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ur(r){return r}function ar(r){return r.length===0?ur:r.length===1?r[0]:function(e){return r.reduce(function(t,o){return o(t)},e)}}var p=function(){function r(n){n&&(this._subscribe=n)}return r.prototype.lift=function(n){var e=new r;return e.source=this,e.operator=n,e},r.prototype.subscribe=function(n,e,t){var o=this,i=sr(n)?n:new P(n,e,t);return er(function(){var u=o,c=u.operator,a=u.source;i.add(c?c.call(i,a):a?o._subscribe(i):o._trySubscribe(i))}),i},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){n.error(e)}},r.prototype.forEach=function(n,e){var t=this;return e=D(e),new e(function(o,i){var u=new P({next:function(c){try{n(c)}catch(a){i(a),u.unsubscribe()}},error:i,complete:o});t.subscribe(u)})},r.prototype._subscribe=function(n){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(n)},r.prototype[_]=function(){return this},r.prototype.pipe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return ar(n)(this)},r.prototype.toPromise=function(n){var e=this;return n=D(n),new n(function(t,o){var i;e.subscribe(function(u){return i=u},function(u){return o(u)},function(){return t(i)})})},r.create=function(n){return new r(n)},r}();function D(r){var n;return(n=r!=null?r:j.Promise)!==null&&n!==void 0?n:Promise}function cr(r){return r&&s(r.next)&&s(r.error)&&s(r.complete)}function sr(r){return r&&r instanceof U||cr(r)&&B(r)}function fr(r){return s(r==null?void 0:r.lift)}function Q(r){return function(n){if(fr(n))return n.lift(function(e){try{return r(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(r,n,e,t,o){return new lr(r,n,e,t,o)}var lr=function(r){O(n,r);function n(e,t,o,i,u,c){var a=r.call(this,e)||this;return a.onFinalize=u,a.shouldUnsubscribe=c,a._next=t?function(f){try{t(f)}catch(d){e.error(d)}}:r.prototype._next,a._error=i?function(f){try{i(f)}catch(d){e.error(d)}finally{this.unsubscribe()}}:r.prototype._error,a._complete=o?function(){try{o()}catch(f){e.error(f)}finally{this.unsubscribe()}}:r.prototype._complete,a}return n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;r.prototype.unsubscribe.call(this),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},n}(U),z=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function dr(r){return s(r==null?void 0:r.then)}function hr(r){return s(r[_])}function vr(r){return Symbol.asyncIterator&&s(r==null?void 0:r[Symbol.asyncIterator])}function pr(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function yr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var br=yr();function mr(r){return s(r==null?void 0:r[br])}function Sr(r){return Z(this,arguments,function(){var e,t,o,i;return V(this,function(u){switch(u.label){case 0:e=r.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,x(e.read())];case 3:return t=u.sent(),o=t.value,i=t.done,i?[4,x(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,x(o)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function wr(r){return s(r==null?void 0:r.getReader)}function R(r){if(r instanceof p)return r;if(r!=null){if(hr(r))return Er(r);if(z(r))return gr(r);if(dr(r))return xr(r);if(vr(r))return K(r);if(mr(r))return Ar(r);if(wr(r))return Tr(r)}throw pr(r)}function Er(r){return new p(function(n){var e=r[_]();if(s(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gr(r){return new p(function(n){for(var e=0;e<r.length&&!n.closed;e++)n.next(r[e]);n.complete()})}function xr(r){return new p(function(n){r.then(function(e){n.closed||(n.next(e),n.complete())},function(e){return n.error(e)}).then(null,J)})}function Ar(r){return new p(function(n){var e,t;try{for(var o=I(r),i=o.next();!i.done;i=o.next()){var u=i.value;if(n.next(u),n.closed)return}}catch(c){e={error:c}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}n.complete()})}function K(r){return new p(function(n){Ir(r,n).catch(function(e){return n.error(e)})})}function Tr(r){return K(Sr(r))}function Ir(r,n){var e,t,o,i;return $(this,void 0,void 0,function(){var u,c;return V(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),e=N(r),a.label=1;case 1:return[4,e.next()];case 2:if(t=a.sent(),!!t.done)return[3,4];if(u=t.value,n.next(u),n.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=a.sent(),o={error:c},[3,11];case 6:return a.trys.push([6,,9,10]),t&&!t.done&&(i=e.return)?[4,i.call(e)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function W(r,n){return Q(function(e,t){var o=0;e.subscribe(L(t,function(i){t.next(r.call(n,i,o++))}))})}var Pr=Array.isArray;function Lr(r,n){return Pr(n)?r.apply(void 0,w([],b(n))):r(n)}function Or(r){return W(function(n){return Lr(r,n)})}function kr(r,n,e,t,o,i,u,c){var a=[],f=0,d=0,y=!1,h=function(){y&&!a.length&&!f&&n.complete()},v=function(l){return f<t?m(l):a.push(l)},m=function(l){f++;var F=!1;R(e(l,d++)).subscribe(L(n,function(E){n.next(E)},function(){F=!0},void 0,function(){if(F)try{f--;for(var E=function(){var g=a.shift();u||m(g)};a.length&&f<t;)E();h()}catch(g){n.error(g)}}))};return r.subscribe(L(n,v,function(){y=!0,h()})),function(){}}function X(r,n,e){return e===void 0&&(e=1/0),s(n)?X(function(t,o){return W(function(i,u){return n(t,i,o,u)})(R(r(t,o)))},e):(typeof n=="number"&&(e=n),Q(function(t,o){return kr(t,o,r,e)}))}var Ur=["addListener","removeListener"],_r=["addEventListener","removeEventListener"],Rr=["on","off"];function G(r,n,e,t){if(s(e)&&(t=e,e=void 0),t)return G(r,n,e).pipe(Or(t));var o=b(Yr(r)?_r.map(function(c){return function(a){return r[c](n,a,e)}}):Fr(r)?Ur.map(H(r,n)):Mr(r)?Rr.map(H(r,n)):[],2),i=o[0],u=o[1];if(!i&&z(r))return X(function(c){return G(c,n,e)})(R(r));if(!i)throw new TypeError("Invalid event target");return new p(function(c){var a=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return c.next(1<f.length?f:f[0])};return i(a),function(){return u(a)}})}function H(r,n){return function(e){return function(t){return r[e](n,t)}}}function Fr(r){return s(r.addListener)&&s(r.removeListener)}function Mr(r){return s(r.on)&&s(r.off)}function Yr(r){return s(r.addEventListener)&&s(r.removeEventListener)}export{p as O,G as f};
