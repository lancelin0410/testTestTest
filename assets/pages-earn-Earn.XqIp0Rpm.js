import{_ as e,u as t,o as a,c as l,w as s,b as r,q as o,t as n,n as u,d,y as c,a6 as m,f as i,i as y,v as b,a as f,C as h,k as _,m as g,F as p,a7 as w,l as x,L as k,E as R,G as v,e as C,a8 as B,a9 as T,T as I}from"./index-DukxopBg.js";import{_ as $}from"./share-icon.BzYOEY-b.js";import{c as S,s as L}from"./system.BTHTzqeM.js";import{_ as P}from"./segmentation.Dynn20Ej.js";import{_ as j}from"./icon-gmt.CgMa4TVW.js";import{T as q}from"./toast.Cnh95VuC.js";import{P as E}from"./Pageable.D-rGe4XH.js";const U=e({__name:"EarnFooter",props:{url:String},setup(e){const f=t(),h=e,_=()=>{m({logParam:"",logType:1023}),L(h.url)};return(e,t)=>{const m=i,g=y,p=b;return a(),l(m,{class:"earn-footer-body"},{default:s((()=>[r(m,{class:"my-link"},{default:s((()=>[r(m,{class:"my-link-label"},{default:s((()=>[o(n(e.$t("earn.footer.myLink"))+":",1)])),_:1}),r(m,{class:"my-link-content",style:u({background:d(f).theme.lightBgColor})},{default:s((()=>[o(n(h.url),1)])),_:1},8,["style"]),r(m,{class:"coby-btn",style:u({background:d(f).theme.earn.gradientBtn}),onClick:t[0]||(t[0]=c((e=>d(S)({text:h.url})),["stop"]))},{default:s((()=>[o(n(e.$t("earn.footer.copy")),1)])),_:1},8,["style"])])),_:1}),r(m,{class:"share-btn",style:u({background:d(f).theme.button.normal}),onClick:c(_,["stop"])},{default:s((()=>[r(g,{src:$,class:"share-icon"}),r(p,null,{default:s((()=>[o(n(e.$t("earn.footer.share")),1)])),_:1})])),_:1},8,["style"])])),_:1})}}},[["__scopeId","data-v-71549f47"]]),O=e({__name:"EarnHeader",emits:["get-header-active"],setup(e,{emit:l}){const c=t(),m=f(),y=l;let b=h(1);const w=e=>{b.value=e,y("get-header-active",e)};return(e,t)=>{const l=i;return a(),_(p,null,[r(l,{style:u({height:d(m).headerStyle.statusBarHeight+"px"})},null,8,["style"]),r(l,{class:"earn-header"},{default:s((()=>[r(l,{class:"earn-header-content",style:u({background:d(c).theme.tabsRound.bgColor})},{default:s((()=>[r(l,{class:g(["earn-header-content-item",0==d(b)?"active":""]),style:u({background:0==d(b)?d(c).theme.tabsRound.selectBgColor:"",color:0==d(b)?d(c).theme.tabsRound.selectTextColor:d(c).theme.tabsRound.textColor}),onClick:t[0]||(t[0]=e=>w(0))},{default:s((()=>[o(n(e.$t("earn.header.myRewards")),1)])),_:1},8,["class","style"]),r(l,{class:g(["earn-header-content-item",1==d(b)?"active":""]),style:u({background:1==d(b)?d(c).theme.tabsRound.selectBgColor:"",color:1==d(b)?d(c).theme.tabsRound.selectTextColor:d(c).theme.tabsRound.textColor}),onClick:t[1]||(t[1]=e=>w(1))},{default:s((()=>[o(n(e.$t("earn.header.rules")),1)])),_:1},8,["class","style"])])),_:1},8,["style"])])),_:1})],64)}}},[["__scopeId","data-v-5fa4e14b"]]),A=""+new URL("earn-tree-8AT8qoxK.png",import.meta.url).href,F=""+new URL("rule1-B7rktORK.png",import.meta.url).href,H=""+new URL("rule2-B2EwSlQo.png",import.meta.url).href,K=""+new URL("rule3-BcKrlrSe.png",import.meta.url).href,G=w.global.t,M=[{icon:F,children:[{number:"5 ",text:G("earn.rule.text"),name:G("earn.rule.cashBonus")},{number:"0.5% ",text:G("earn.rule.text"),name:G("earn.rule.cashBalance")}]},{icon:H,children:[{number:"0.3%  ",text:G("earn.rule.text"),name:G("earn.rule.cashBalance")}]},{icon:K,children:[{number:"0.2% ",text:G("earn.rule.text"),name:G("earn.rule.cashBonus")}]}],z=[{title:G("earn.rule.tipOneProblem"),text:G("earn.rule.tipOneText")},{title:G("earn.rule.tipTwoProblem"),text:G("earn.rule.tipTwoText")},{title:G("earn.rule.tipThreeProblem"),text:G("earn.rule.tipThreeText")}],D=e({__name:"Rule",setup(e){const c=t();return(e,t)=>{const m=y,f=i,h=b;return a(),l(f,{class:"rule-body"},{default:s((()=>[r(f,{class:"rule-body-top"},{default:s((()=>[r(f,{class:"rule-body-top-image",style:u({background:d(c).theme.lightBgColor})},{default:s((()=>[r(m,{class:"earn-tree-image",src:A})])),_:1},8,["style"])])),_:1}),r(f,{style:u([{height:"8rpx"},{background:d(c).theme.darkSeplineColor}])},null,8,["style"]),r(f,{class:"rule-content"},{default:s((()=>[r(f,{class:"rule-list"},{default:s((()=>[(a(!0),_(p,null,x(d(M),((e,t)=>(a(),l(f,{class:"rule-item",style:u({background:d(c).theme.lightBgColor}),key:t},{default:s((()=>[r(m,{src:e.icon,class:"rule-item-icon"},null,8,["src"]),r(m,{src:P,class:"segmentation-iamge"}),r(f,{class:"rule-item-center"},{default:s((()=>[(a(!0),_(p,null,x(e.children,((e,t)=>(a(),l(f,{class:"rule-item-center-text",key:t},{default:s((()=>[r(h,{style:u({color:d(c).theme.text.theme})},{default:s((()=>[o(n(e.number),1)])),_:2},1032,["style"]),r(h,{class:"plr8"},{default:s((()=>[o(n(e.text),1)])),_:2},1024),r(h,{style:u({color:d(c).theme.text.theme})},{default:s((()=>[o(n(e.name),1)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["style"])))),128))])),_:1}),r(f,{class:"rule-faq"},{default:s((()=>[(a(!0),_(p,null,x(d(z),((e,t)=>(a(),l(f,{class:"rule-faq-item",key:t},{default:s((()=>[r(f,{class:"rule-faq-item-title"},{default:s((()=>[o(n(e.title),1)])),_:2},1024),r(f,{class:"rule-faq-item-text",style:u({color:d(c).theme.text.subtitle})},{default:s((()=>[o(n(e.text),1)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-3f1cf2ad"]]),Q=e({__name:"MyRewards",setup(e){const m=t(),g=f(),{t:w}=k();let I=h(1),$=h(0),S=R({inviteCount:0,availableRebate:0,todayRebate:0,totalRebate:0}),L=h([]);const P=async e=>{q.showLoading(w("earn.toast.loading"));const{code:t,data:a}=await B({page:e,pageSize:7});console.log(a),200==t&&($.value=Math.ceil(a.totalCount/7),L.value=a.records,S.inviteCount=null==a.inviteCount?0:a.inviteCount,S.availableRebate=null==a.baseInfo.availableRebate?0:a.baseInfo.availableRebate,S.todayRebate=null==a.baseInfo.todayRebate?0:a.baseInfo.todayRebate,S.totalRebate=null==a.baseInfo.totalRebate?0:a.baseInfo.totalRebate,q.hideLoading())},U=e=>{I.value=e,P(I.value)},O=async()=>{if(S.availableRebate<=0)return;const{code:e,data:t}=await T();200==e&&(q.show("success"),I.value=1,P(I.value))};return v((()=>{P(I.value)})),(e,t)=>{const f=b,h=i,w=y;return a(),l(h,{class:"my-rewards-body"},{default:s((()=>[r(h,{class:"my-rewards-body-top"},{default:s((()=>[r(h,{class:"my-rewards-body-top-item top-bg1"},{default:s((()=>[r(f,null,{default:s((()=>[o(n(e.$t("earn.myRewards.rewardToday")),1)])),_:1}),r(f,null,{default:s((()=>[o(n(d(S).todayRebate),1)])),_:1})])),_:1}),r(h,{class:"my-rewards-body-top-item top-bg2"},{default:s((()=>[r(f,null,{default:s((()=>[o(n(e.$t("earn.myRewards.totalRewards")),1)])),_:1}),r(f,null,{default:s((()=>[o(n(d(S).totalRebate),1)])),_:1})])),_:1})])),_:1}),r(h,{style:u([{height:"8rpx"},{background:d(m).theme.darkSeplineColor}])},null,8,["style"]),r(h,{class:"my-rewards-body-center"},{default:s((()=>[r(h,{class:"my-rewards-body-center-item",style:u({background:d(m).theme.lightBgColor})},{default:s((()=>[r(f,{class:"my-rewards-body-center-item-label",style:u({color:d(m).theme.text.subtitle})},{default:s((()=>[o(n(e.$t("earn.myRewards.numberOfInviters"))+":",1)])),_:1},8,["style"]),r(f,{class:"my-rewards-body-center-item-value",style:u({color:d(m).theme.text.normal})},{default:s((()=>[o(n(d(S).inviteCount),1)])),_:1},8,["style"])])),_:1},8,["style"]),r(h,{class:"my-rewards-body-center-item",style:u({background:d(m).theme.lightBgColor})},{default:s((()=>[r(f,{class:"my-rewards-body-center-item-label",style:u({color:d(m).theme.text.subtitle})},{default:s((()=>[o(n(e.$t("earn.myRewards.amountAvailable"))+":",1)])),_:1},8,["style"]),r(f,{class:"tex-color",style:u({color:d(m).theme.text.theme})},{default:s((()=>[o(n(d(S).availableRebate),1)])),_:1},8,["style"]),r(h,{class:"calim-btn",style:u({background:d(m).theme.earn.gradientBtn}),onClick:c(O,["stop"])},{default:s((()=>[o(n(e.$t("earn.myRewards.claim")),1)])),_:1},8,["style"])])),_:1},8,["style"])])),_:1}),r(h,{style:u([{height:"8rpx"},{background:d(m).theme.darkSeplineColor}])},null,8,["style"]),r(h,{class:"my-rewards-table"},{default:s((()=>[r(h,{class:"my-rewards-table-header flex-acenter plr30",style:u({background:d(m).theme.lightBgColor})},{default:s((()=>[r(h,{class:"my-rewards-table-header-column"},{default:s((()=>[o(n(e.$t("earn.myRewards.data")),1)])),_:1}),306===d(g).appId?(a(),l(h,{key:0,class:"gmt-view flex-acenter",style:u({background:d(m).theme.themeDarkBgColor})},{default:s((()=>[r(w,{src:j,mode:"aspectFit",style:{width:"25rpx",height:"25rpx"}}),r(h,{class:"ml8 ft11"},{default:s((()=>[o(n(d(g).timeZone),1)])),_:1})])),_:1},8,["style"])):C("",!0),r(h,{class:"my-rewards-table-header-column"},{default:s((()=>[o(n(e.$t("earn.myRewards.rewards")),1)])),_:1})])),_:1},8,["style"]),r(h,{class:"my-rewards-table-tbody",style:u({background:d(m).theme.lightBgColor})},{default:s((()=>[r(h,{class:"my-rewards-table-list"},{default:s((()=>[(a(!0),_(p,null,x(d(L),((e,t)=>(a(),l(h,{class:"my-rewards-table-row",key:t},{default:s((()=>[r(h,{class:"my-rewards-table-row-left",style:u({color:d(m).theme.text.subtitle})},{default:s((()=>[o(n(e.day),1)])),_:2},1032,["style"]),r(h,{class:"my-rewards-table-row-right",style:u({color:d(m).theme.text.theme})},{default:s((()=>[o(n(e.rebate),1)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1}),d($)?(a(),l(h,{key:0,class:"my-rewards-table-pagination"},{default:s((()=>[r(E,{current:d(I),total:d($),onChange:U},null,8,["current","total"])])),_:1})):C("",!0)])),_:1},8,["style"])])),_:1})])),_:1})}}},[["__scopeId","data-v-131f81b9"]]),Y=e({__name:"Earn",setup(e){f();const o=t();let n=h(1),c=h("");v((()=>{b(),m({logParam:"",logType:1006}),m({logParam:"",logType:1002})}));const y=e=>{n.value=e},b=async()=>{const{code:e,data:t}=await B();200==e&&(c.value=t.referralUrl)};return(e,t)=>{const m=i,b=I("common-layout");return a(),l(b,null,{default:s((()=>[r(m,{class:"earn-body"},{default:s((()=>[r(O,{onGetHeaderActive:y}),r(m,{class:"earn-content"},{default:s((()=>[1==d(n)?(a(),l(D,{key:0})):C("",!0),0==d(n)?(a(),l(Q,{key:1})):C("",!0)])),_:1}),r(m,{style:u([{height:"8rpx"},{background:d(o).theme.darkSeplineColor}])},null,8,["style"]),r(U,{url:d(c),style:{"margin-top":"10rpx"}},null,8,["url"])])),_:1})])),_:1})}}},[["__scopeId","data-v-67c78916"]]);export{Y as default};
