import{g as Y,M as Z,i as F,j as ee,k as te,K as T,P as oe,m as se,q as H,Q as E,O as ne,t as L,A as V,B as P,C as O,R as ae,d as v,T as le,n as ie,h as re,o as de}from"./@ionic-CQtneEHh.js";import{r as A,H as d,K as k,C as a,J as n,E as e,M as t,O as b,P as o,V as w,F as C,j as ue,B as K,w as pe,a as G,S as j,L as S,I as p,W as ce,R as $,N as M,k as me,c as ge,X as fe,Y as he}from"./@vue-KvDcA5L4.js";import{u as q}from"./vue-i18n-CPl1SEIs.js";import{s as _e}from"./pinia-7EZHWT0u.js";import{c as U,u as ye}from"./index-DbfdoCpI.js";import{u as J,r as be}from"./useDepositStore-CKiyiTnY.js";import{a as ve}from"./ionicons-T4lv_k6t.js";import"./@stencil-DBaMOtEh.js";import"./@capacitor-BXp5o1ZG.js";import"./vue-router-D1p6pxpQ.js";import"./localforage-qzmIiYbH.js";import"./@adjustcom-Dev-Q0DI.js";import"./@intlify-BAcCFw_v.js";import"./pinia-plugin-persistedstate-2-DcGv4gw_.js";import"./@awesome-cordova-plugins-CT7d7gQP.js";import"./rxjs-C3tg6S9t.js";import"./tslib-BHBn2Msb.js";const Ie={style:{color:"#ffdf3f","margin-left":"16px"}},$e={style:{"font-size":"0.8rem"}},ke={class:"block-content"},Ce={class:"block-content"},we={class:"block-title"},Pe={class:"block-content"},Me={class:"block-title"},Le={class:"block-content"},Se={class:"block-content"},Te={class:"block-content"},Ae={class:"block-content"},Ne={__name:"SelfServiceUtr",props:{orderId:{type:String,default:""},pendingCount:{type:Number,default:0}},setup(N){const y=U(),{t:g}=q(),i=N,h=A(!1),f=async()=>{if(i.orderId){if(y.appConfig.manualPendingMaxCount&&y.appConfig.manualPendingMaxCount>0&&i.pendingCount>=y.appConfig.manualPendingMaxCount){await(await L.create({message:"".concat(g("deposit.toast.text5")," ").concat(y.appConfig.manualPendingMaxCount," ").concat(g("deposit.toast.text6")),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}window.open("".concat(y.manualRechargeUrl,"?userId=").concat(userStore.userInfo.id,"&orderId=").concat(i.orderId))}else h.value=!0};return(u,c)=>(d(),k(C,null,[a(e(Z),{class:"self-service",detail:!0,lines:"none",onClick:w(f,["stop"])},{default:n(()=>[a(e(Y),null,{default:n(()=>[t("h2",null,[b(o(u.$t("deposit.message.tipsUtr1")),1),t("span",Ie,o(u.$t("deposit.message.tipsUtr2")),1)]),t("p",$e,o(u.$t("deposit.message.tipsUtr3")),1)]),_:1})]),_:1}),a(e(ne),{class:"self-service-info","is-open":h.value},{default:n(()=>[a(e(F),null,{default:n(()=>[a(e(ee),null,{default:n(()=>[a(e(te),{slot:"start"},{default:n(()=>[a(e(T),{onClick:c[0]||(c[0]=w(m=>h.value=!1,["stop"]))},{default:n(()=>[a(e(oe),{slot:"icon-only",icon:e(ve),color:"light"},null,8,["icon"])]),_:1})]),_:1}),a(e(se),null,{default:n(()=>[b(o(u.$t("deposit.title")),1)]),_:1})]),_:1})]),_:1}),a(e(H),{class:"ion-padding"},{default:n(()=>[t("div",ke,o(u.$t("deposit.utrPage.text1")),1),t("div",Ce,o(u.$t("deposit.utrPage.text2")),1),t("div",we,o(u.$t("deposit.utrPage.title1")),1),t("div",Pe,o(u.$t("deposit.utrPage.text3")),1),t("div",Me,o(u.$t("deposit.utrPage.title2")),1),t("div",Le,o(u.$t("deposit.utrPage.text4")),1),t("div",Se,o(u.$t("deposit.utrPage.text5")),1),t("div",Te,o(u.$t("deposit.utrPage.text6")),1),t("div",Ae,o(u.$t("deposit.utrPage.text7")),1)]),_:1}),a(e(E),null,{default:n(()=>[a(e(T),{class:"btn-deposit-history",expand:"block",shape:"round"},{default:n(()=>[b(o(u.$t("deposit.button.gotoDepositHistory")),1)]),_:1})]),_:1})]),_:1},8,["is-open"])],64))}},xe={style:{margin:"4px 0"}},De={class:"block-title"},Be={class:"ion-margin-start",style:{"font-size":"0.9rem"}},Ve={class:"ion-margin-start",style:{"font-size":"0.9rem"}},Oe=t("hr",null,null,-1),Ue={class:"method-bg"},ze={class:"method-text"},Re={class:"method-fg"},Ge=t("hr",null,null,-1),je={class:"method-bg"},Fe={class:"channel-text"},He={class:"method-fg"},Ee=t("hr",null,null,-1),Ke={style:{margin:"4px 0"}},qe={class:"block-title"},Je=t("hr",null,null,-1),Qe={key:0,style:{margin:"4px 0"}},We={class:"block-title"},Xe=t("hr",null,null,-1),Ye={style:{margin:"4px 0"}},Ze={class:"block-title"},et={style:{"font-size":"0.8rem"}},tt={__name:"OnlinePayment",setup(N){const{t:y}=q(),g=U(),i=J(),{isTypeB:h}=_e(i),{getImgUrl:f}=ye(),u="Rs",c=A(0),m=A(0),s=ue({depositAmount:0,depositMethodItem:{},depositMethod:"",depositMethodName:"",depositChannel:1,depositMethodList:[]});K(async()=>{}),pe(()=>{var l;return(l=i.onlinePaymentInfo)==null?void 0:l.amountList},()=>{g.barLoading=!0,c.value=i.onlinePaymentInfo.amountList[0],m.value=i.onlinePaymentInfo.amountList[i.onlinePaymentInfo.amountList.length-1];const l=i.onlinePaymentInfo.amountList.indexOf(i.chargeInfo.defaultIndex);s.depositAmount=i.onlinePaymentInfo.amountList[l+1],s.depositMethodItem=i.rechargeTypeList[0],s.depositMethod=i.rechargeTypeList[0].type,s.depositMethodName=i.rechargeTypeList[0].name,g.barLoading=!1});const x=l=>{s.depositAmount=Number(l)},Q=l=>{s.depositMethodItem=l,s.depositMethod=l.type,s.depositMethodName=l.name},W=l=>{s.depositChannel=Number(l)},X=async()=>{if(!s.depositAmount){await(await L.create({message:y("deposit.toast.text1"),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}if(Number(s.depositAmount)<c.value||Number(s.depositAmount)>m.value){await(await L.create({message:"".concat(y("deposit.toast.text2")," ").concat(c.value," - ").concat(m.value),duration:1500,position:"top",color:"warning",translucent:!0})).present();return}g.fullLoading=!0;const l=await be({amount:s.depositAmount,channelId:s.depositChannel,rechargeType:s.depositMethod==5?"H":i.onlinePaymentInfo.rechargeType,accountType:s.depositMethodName});l.state==="200"?l.resultData.url&&window.open(l.resultData.url,"_blank"):await(await L.create({message:l.msg,duration:1500,position:"top",color:"danger",translucent:!0})).present(),g.fullLoading=!1};return(l,I)=>{var z;return d(),k(C,null,[G(a(e(H),{class:"online-payment"},{default:n(()=>{var R;return[t("div",xe,[t("span",De,o(l.$t("deposit.depositAmount"))+": ",1),t("span",Be,"Min: "+o(c.value.toLocaleString()),1),t("span",Ve,"Max: "+o(m.value.toLocaleString()),1)]),a(e(V),{style:{margin:"8px 0"}},{default:n(()=>{var r;return[(d(!0),k(C,null,S((r=e(i).onlinePaymentInfo)==null?void 0:r.amountList,(_,D)=>(d(),p(e(P),{key:D,size:"2.8",class:ce(["amount-item",{select:Number(_)==Number(s.depositAmount)}]),onClick:w(B=>x(_),["stop"])},{default:n(()=>[e(h)?(d(),p(e(O),{key:0,class:"amount-badge",color:"danger"},{default:n(()=>{var B;return[b("+"+o((B=e(i).onlinePaymentInfo)==null?void 0:B.giftList[D]),1)]}),_:2},1024)):$("",!0),t("div",null,o(e(u))+" "+o(_==null?void 0:_.toLocaleString()),1)]),_:2},1032,["class","onClick"]))),128))]}),_:1}),a(e(ae),{modelValue:s.depositAmount,"onUpdate:modelValue":I[0]||(I[0]=r=>s.depositAmount=r),label:e(u),type:"number",placeholder:l.$t("deposit.depositAmount"),max:m.value,min:c.value,clearInput:!0},null,8,["modelValue","label","placeholder","max","min"]),Oe,a(e(V),{style:{margin:"8px 0"}},{default:n(()=>[(d(!0),k(C,null,S(e(i).rechargeTypeList,(r,_)=>(d(),p(e(P),{key:_,size:"3.5",class:"method-item",onClick:w(D=>Q(r),["stop"])},{default:n(()=>[t("div",Ue,[a(M,{name:"fade"},{default:n(()=>[r.disable?(d(),p(e(v),{key:0,src:e(f)("/wallet/icon-btn-bg-disable.png")},null,8,["src"])):r.type==s.depositMethod?(d(),p(e(v),{key:1,src:e(f)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):(d(),p(e(v),{key:2,src:e(f)("/wallet/icon-btn-bg.png")},null,8,["src"]))]),_:2},1024)]),t("div",ze,[a(e(v),{src:r.disable?r.unableUrl:r.iconUrl},null,8,["src"]),t("span",null,o(r.name),1)]),r.isRecommend?(d(),p(e(O),{key:0,class:"recommend-badge",color:"danger"},{default:n(()=>[b(o(e(u))+" "+o(r.isRecommend)+"+",1)]),_:2},1024)):$("",!0),t("div",Re,[a(M,{name:"fade"},{default:n(()=>[r.type==s.depositMethod?(d(),p(e(v),{key:0,src:e(f)("/wallet/icon-btn-select-m.png")},null,8,["src"])):$("",!0)]),_:2},1024)])]),_:2},1032,["onClick"]))),128)),a(e(P),null,{default:n(()=>[s.depositMethodItem.isGuide?(d(),p(e(T),{key:0,class:"btn-guide",fill:"clear",href:s.depositMethodItem.isGuide,target:"_blank",size:"small"},{default:n(()=>[b(o(l.$t("deposit.howToUse")),1)]),_:1},8,["href"])):$("",!0)]),_:1})]),_:1}),Ge,a(e(V),{style:{margin:"8px 0"}},{default:n(()=>[(d(),k(C,null,S([1,2,3],r=>a(e(P),{key:r,size:"3.5",class:"method-item",onClick:w(_=>W(r),["stop"])},{default:n(()=>[t("div",je,[a(M,{name:"fade"},{default:n(()=>[r==s.depositChannel?(d(),p(e(v),{key:0,src:e(f)("/wallet/icon-btn-bg-select.png")},null,8,["src"])):(d(),p(e(v),{key:1,src:e(f)("/wallet/icon-btn-bg.png")},null,8,["src"]))]),_:2},1024)]),t("div",Fe,o(l.$t("deposit.channel"))+" "+o(r),1),t("div",He,[a(M,{name:"fade"},{default:n(()=>[r==s.depositChannel?(d(),p(e(v),{key:0,src:e(f)("/wallet/icon-btn-select-m.png")},null,8,["src"])):$("",!0)]),_:2},1024)])]),_:2},1032,["onClick"])),64))]),_:1}),Ee,t("div",Ke,[t("div",qe,o(l.$t("deposit.depositEvent"))+": ",1),a(e(le),{modelValue:e(h),"onUpdate:modelValue":I[1]||(I[1]=r=>me(h)?h.value=r:null),"label-placement":"end"},{default:n(()=>{var r,_;return[b(o("+".concat((((_=(r=e(i).chargeInfo)==null?void 0:r.typeB)==null?void 0:_.gift)||0)*100,"%"))+" "+o(l.$t("deposit.bonus")),1)]}),_:1},8,["modelValue"])]),Je,(R=e(i).chargeInfo)!=null&&R.fillOrderSwitch?(d(),k("div",Qe,[t("div",We,o(l.$t("deposit.depositService"))+": ",1),a(Ne),Xe])):$("",!0),t("div",Ye,[t("div",Ze,o(l.$t("deposit.depositTips"))+": ",1),t("span",et,[t("div",null,o(l.$t("deposit.message.tips1")),1),t("div",null,o(l.$t("deposit.message.tips2")),1)])])]}),_:1},512),[[j,(z=e(i).onlinePaymentInfo)==null?void 0:z.amountList]]),G(a(e(E),null,{default:n(()=>[a(e(T),{class:"btn-deposit",expand:"block",shape:"round",onClick:X},{default:n(()=>[b(o(l.$t("deposit.button.depositNow")),1)]),_:1})]),_:1},512),[[j,s.depositAmount]])],64)}}},bt={__name:"Deposit",setup(N){const y=U(),g=J(),i=A("OnlinePayment"),h={1:{name:"deposit.onlinePayment",value:"OnlinePayment"},2:{name:"deposit.transferDeposit",value:"TransferDeposit"},3:{name:"deposit.agencyDeposit",value:"AgencyDeposit"},4:{name:"deposit.crypto",value:"Crypto"}},f=ge(()=>Object.keys(h).filter(c=>g.rechargeTypes.includes(c)).reduce((c,m)=>{c[m]=h[m];const s=m==2||m==3?"+".concat(g.chargeInfo.transferGift*100,"%"):m==4?"+".concat(g.chargeInfo.cryptoGift*100,"%"):"";return c[m].badge=s,c},{})),u={OnlinePayment:tt};return K(async()=>{y.barLoading=!0,await g.getChargeInfo()}),(c,m)=>(d(),p(e(re),{class:"deposit"},{default:n(()=>[a(e(F),null,{default:n(()=>[Object.keys(f.value).length>1?(d(),p(e(ie),{key:0,modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=s=>i.value=s),mode:"md",scrollable:!0},{default:n(()=>[(d(!0),k(C,null,S(f.value,(s,x)=>(d(),p(e(de),{key:x,class:"ion-text-capitalize",value:s.value},{default:n(()=>[a(e(O),{class:"recharge-badge",color:"danger"},{default:n(()=>[b(o(s.badge),1)]),_:2},1024),t("div",null,o(c.$t(s.name)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):$("",!0)]),_:1}),(d(),p(fe,null,[(d(),p(he(u[i.value])))],1024))]),_:1}))}};export{bt as default};
