import{t as g,s as d,d as _,j as h}from"./@ionic-D6JpvR1m.js";import{k as x,u as y}from"./index-Disua9qA.js";import"./@stencil-DBaMOtEh.js";import{r as i,A as w,w as M,G as T,J as v,B as c,I as B,D as o,L as p}from"./@vue-CTzZmrEY.js";const I={class:"marquee"},L={slot:"primary",class:"roll-box"},b=["innerHTML"],E={__name:"Marquee",setup(k){const{getPublicUrl:m}=y(),r=i(null);let n;const s=i("");w(()=>{u()});const u=async()=>{const t=await x();if(t.state==="200"){const a=t.resultData.msgList||[];s.value=a.reduce((l,f)=>{let e=f.msgContent.replace(/<\/c>/g,"</span>");return e=e.replace(/<color=/g,'<span style="color:'),e=e.replace(/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/g,'#$1"'),l+='<span style="margin-right: 20px;">'.concat(e,"</span>"),l},'<span style="color: #ffffff">')}else await(await g.create({message:t.msg,duration:1500,position:"top",color:"danger",translucent:!0})).present()};return M(s,t=>{t.length>0&&(n=d().addElement(r.value).duration(25e4).fill("both").iterations(1/0).fromTo("transform","translateX(0)","translateX(-100%)"),n.play())}),(t,a)=>(T(),v("div",I,[c(o(h),null,{default:B(()=>[c(o(_),{slot:"start",class:"notice-icon",src:o(m)("/home/icon-notice.png"),style:{width:"24px",height:"24px",margin:"0 4px 0 0"}},null,8,["src"]),p("div",L,[p("span",{ref_key:"rollText",ref:r,class:"roll-text",innerHTML:s.value},null,8,b)])]),_:1})]))}};export{E as _};
