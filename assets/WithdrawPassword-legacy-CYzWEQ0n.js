System.register(["./vue-i18n-legacy-DjTkttSq.js","./@ionic-legacy-DMctsmQJ.js","./index-legacy-DRYbprnH.js","./withdraw-legacy-BJtAS3G3.js","./@vue-legacy-B1EAGH60.js","./@intlify-legacy-DDHA1rkh.js","./@stencil-legacy-B3F1rWbF.js","./@capacitor-legacy-DN4LNBqm.js","./vue-router-legacy-B0n9GxF1.js","./ionicons-legacy-DYh71j0f.js","./localforage-legacy-D0pVUvDl.js","./@adjustcom-legacy-QP0zxLxB.js","./pinia-legacy-CH_RGYsZ.js","./pinia-plugin-persistedstate-2-legacy-CtlOhiZd.js","./@awesome-cordova-plugins-legacy-CuOL20OL.js","./rxjs-legacy-C12cs3ed.js","./tslib-legacy-BRpw1qYg.js"],(function(a,e){"use strict";var t,l,o,s,i,r,n,d,c,w,u,p,h,g,m,f,b,v,P,y,x,j,k,C;return{setters:[a=>{t=a.u},a=>{l=a.R,o=a.d,s=a.W,i=a.K,r=a.o,n=a.Q,d=a.h,c=a.t},a=>{w=a.c,u=a.e,p=a.u,h=a.o},a=>{g=a.s},a=>{m=a.j,f=a.r,b=a.H,v=a.I,P=a.J,y=a.C,x=a.M,j=a.P,k=a.E,C=a.O},null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent=".withdraw-password ion-input{border-radius:10px!important;border:3px solid #c5000f}.withdraw-password ion-input label.input-wrapper{padding:4px 8px;height:48px}.withdraw-password ion-input .input-prefix{color:#c5000f;width:48px;height:35px;border-right:2px solid #c5000f;padding-right:8px;line-height:35px;text-align:center}.withdraw-password .block-title{font-size:1rem;margin:12px 0}.withdraw-password .btn-otp{--background: var(--ion-background-color);--background-activated: var(--ion-background-color);min-height:2rem}.withdraw-password .btn-otp::part(native){padding:2px 16px}.withdraw-password .btn-confirm{--background: linear-gradient(90deg, #f78d22, #e34e04);--background-activated: linear-gradient(45deg, #f78d22, #e34e04);font-size:1.2rem;min-height:3rem}\n",document.head.appendChild(e);const V={style:{margin:"4px 0"}},_={class:"block-title"},$={style:{margin:"4px 0"}},R={class:"block-title"},I={style:{margin:"4px 0"}},U={class:"block-title"},M={class:"input-prefix",slot:"start"},O=x("br",null,null,-1),z=x("span",{class:"input-prefix",slot:"start"},"OTP",-1);a("default",{__name:"WithdrawPassword",setup(a){const{t:e}=t(),E=w(),L=u(),{getImgUrl:S}=p(),T=m({withdrawPasswd:"",withdrawPasswdRepeat:"",mobile:L.userInfo.mobile?L.userInfo.mobile.substring(2):"",verificationCode:"",canModifyPwd:!L.userInfo.mobile});let W;const D=f(0),H=f(e("account.button.otp")),J=async()=>{if(0==D.value){if(!T.mobile||0==T.mobile.length){const a=await c.create({message:e("account.withdrawalPassword.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0});return void(await a.present())}const a=await h({tel:T.mobile});"200"==a.state&&(D.value=a.resultData,K())}},K=()=>{H.value=`${D.value}s`,W=setInterval((()=>{D.value>0?(D.value--,H.value=`${D.value}s`):(H.value=e("account.button.otp"),D.value=0,clearInterval(W))}),1e3)},Q=async()=>{if(T.withdrawPasswd&&0!=T.withdrawPasswd.length)if(T.withdrawPasswd===T.withdrawPasswdRepeat)if(T.mobile&&0!=T.mobile.length)if(T.verificationCode&&0!=T.verificationCode.length){if(E.fullLoading=!0,"200"==(await g({withdrawPasswd:T.withdrawPasswd,withdrawPasswdRepeat:T.withdrawPasswdRepeat,mobile:T.canModifyPwd?T.mobile:null,verificationCode:T.verificationCode})).state){const a=await c.create({message:"Success",duration:1500,position:"top",translucent:!0,icon:checkmarkOutline,color:"success"});await a.present(),setTimeout((()=>router.go(-1)),1e3)}E.fullLoading=!1}else{const a=await c.create({message:e("account.withdrawalPassword.toast.verificationCode"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}else{const a=await c.create({message:e("account.withdrawalPassword.toast.phone"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}else{const a=await c.create({message:e("account.withdrawalPassword.toast.withdrawPasswdRepeat"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}else{const a=await c.create({message:e("account.withdrawalPassword.toast.withdrawPasswd"),duration:1500,position:"top",color:"warning",translucent:!0});await a.present()}};return(a,e)=>(b(),v(k(d),{class:"withdraw-password"},{default:P((()=>[y(k(r),null,{default:P((()=>[x("div",V,[x("div",_,j(a.$t("account.withdrawalPassword.label.password")),1),y(k(l),{modelValue:T.withdrawPasswd,"onUpdate:modelValue":e[0]||(e[0]=a=>T.withdrawPasswd=a),type:"password",placeholder:a.$t("account.withdrawalPassword.label.password")},{default:P((()=>[y(k(o),{class:"input-prefix",slot:"start",src:k(S)("/account/w-password.png")},null,8,["src"]),y(k(s),{slot:"end",color:"medium"})])),_:1},8,["modelValue","placeholder"])]),x("div",$,[x("div",R,j(a.$t("account.withdrawalPassword.label.repeatPassword")),1),y(k(l),{modelValue:T.withdrawPasswdRepeat,"onUpdate:modelValue":e[1]||(e[1]=a=>T.withdrawPasswdRepeat=a),type:"password",placeholder:a.$t("account.withdrawalPassword.label.repeatPassword")},{default:P((()=>[y(k(o),{class:"input-prefix",slot:"start",src:k(S)("/account/w-password.png")},null,8,["src"]),y(k(s),{slot:"end",color:"medium"})])),_:1},8,["modelValue","placeholder"])]),x("div",I,[x("div",U,j(a.$t("account.withdrawalPassword.label.phone")),1),y(k(l),{modelValue:T.mobile,"onUpdate:modelValue":e[2]||(e[2]=a=>T.mobile=a),placeholder:a.$t("account.withdrawalPassword.label.phone")},{default:P((()=>[x("span",M,j(k("+92")),1)])),_:1},8,["modelValue","placeholder"]),O,y(k(l),{modelValue:T.verificationCode,"onUpdate:modelValue":e[3]||(e[3]=a=>T.verificationCode=a),placeholder:a.$t("account.withdrawalPassword.label.otpPlaceholder")},{default:P((()=>[z,y(k(i),{slot:"end",class:"btn-otp",style:{color:"#c5000f"},onClick:J},{default:P((()=>[C(j(H.value),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])])),_:1}),y(k(n),null,{default:P((()=>[y(k(i),{class:"btn-confirm",expand:"block",shape:"round",onClick:Q},{default:P((()=>[C(j(a.$t("account.button.confirm")),1)])),_:1})])),_:1})])),_:1}))}})}}}));
